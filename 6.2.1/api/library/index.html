
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://docs.arcticdb.io/6.2.1/api/library/">
      
      
        <link rel="prev" href="../arctic_uri/">
      
      
        <link rel="next" href="../library_types/">
      
      
      <link rel="icon" href="../../images/ArcticDB Logo.svg">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.20">
    
    
      
        <title>Library - ArcticDB</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.e53b48f4.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Aspekta:300,300i,400,400i,700,700i%7CGeist+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Aspekta";--md-code-font:"Geist Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
      <link rel="stylesheet" href="../../stylesheets/material.css">
    
      <link rel="stylesheet" href="../../stylesheets/mkdocstrings-python.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="arcticdb" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#library-api" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
          <aside class="md-banner md-banner--warning">
            <div class="md-banner__inner md-grid md-typeset">
              
  You're not viewing the latest version.
  <a href="../../..">
    <strong>Click here to go to latest.</strong>
  </a>

            </div>
            <script>var el=document.querySelector("[data-md-component=outdated]"),base=new URL("../.."),outdated=__md_get("__outdated",sessionStorage,base);!0===outdated&&el&&(el.hidden=!1)</script>
          </aside>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="ArcticDB" class="md-header__button md-logo" aria-label="ArcticDB" data-md-component="logo">
      
  <img src="../../images/ArcticDB Logo.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ArcticDB
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Library
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/man-group/ArcticDB" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    man-group/ArcticDB
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../.." class="md-tabs__link">
          
  
  
  Home

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../tutorials/fundamentals/" class="md-tabs__link">
          
  
  
  Guides

        </a>
      </li>
    
  

    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../notebooks/ArcticDB_demo_lmdb/" class="md-tabs__link">
          
  
  
  Notebooks

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../" class="md-tabs__link">
          
  
  
  Python API Reference

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="ArcticDB" class="md-nav__button md-logo" aria-label="ArcticDB" data-md-component="logo">
      
  <img src="../../images/ArcticDB Logo.svg" alt="logo">

    </a>
    ArcticDB
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/man-group/ArcticDB" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    man-group/ArcticDB
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            Home
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Introduction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../history/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    History of ArcticDB
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../faq/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Frequently Asked Questions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../licensing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Licensing FAQs
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Guides
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Guides
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1" >
        
          
          <label class="md-nav__link" for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Tutorials
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1">
            <span class="md-nav__icon md-icon"></span>
            Tutorials
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/fundamentals/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Fundamentals
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/parallel_writes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Parallel Writes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/snapshots/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Snapshots
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/metadata/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Metadata
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/lmdb_and_in_memory/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    In-memory Backends
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/data_organisation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Data Organisation Guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/library_sizes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Library Sizes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/query_stats/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Statistics
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Storage Guides
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            Storage Guides
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../aws/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Getting started with AWS S3
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../aws_permissions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Library Permissions with AWS S3
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../azure/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Getting started with Azure Blob Storage
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Technical Information
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            Technical Information
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../technical/architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Architecture
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../technical/on_disk_storage/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    On-Disk Storage
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../technical/migration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Arctic Migration
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../technical/contributing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Contributing
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../technical/upgrade_storage/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Upgrade Storage
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" >
        
          
          <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Configuration
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            Configuration
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lib_config/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Library Configuration
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../runtime_config/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Runtime Configuration
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../error_messages/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Error Messages
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Notebooks
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Notebooks
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../notebooks/ArcticDB_demo_lmdb/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Intro Notebook
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../notebooks/ArcticDB_demo_lazydataframe/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    LazyDataFrame Notebook
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../notebooks/ArcticDB_demo_querybuilder/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Querybuilder Notebook
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../notebooks/ArcticDB_demo_resample/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Resample Notebook
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../notebooks/ArcticDB_demo_concat/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Symbol Concat Notebook
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../notebooks/ArcticDB_aws_public_blockchain/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    AWS Blockchain Notebook
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../notebooks/ArcticDB_demo_snapshots/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Snapshots Notebook
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../notebooks/ArcticDB_demo_equity_analytics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Equity Analytics Notebook
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../notebooks/ArcticDB_demo_equity_options/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Equity Options Notebook
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../notebooks/ArcticDB_billion_row_challenge/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1 Billion Row Challenge Notebook
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../notebooks/ArcticDB_pythagorean_won_loss_formula_notebook/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Pythagorean Won Loss Formula Notebook
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Python API Reference
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Python API Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Introduction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../arctic/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Arctic
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../arctic_uri/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Arctic URI
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Library
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Library
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#arcticdb.version_store.library.Library" class="md-nav__link">
    <span class="md-ellipsis">
      Library
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Library">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arcticdb.version_store.library.Library.name" class="md-nav__link">
    <span class="md-ellipsis">
      name
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcticdb.version_store.library.Library.admin_tools" class="md-nav__link">
    <span class="md-ellipsis">
      admin_tools
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcticdb.version_store.library.Library.append" class="md-nav__link">
    <span class="md-ellipsis">
      append
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcticdb.version_store.library.Library.append_batch" class="md-nav__link">
    <span class="md-ellipsis">
      append_batch
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcticdb.version_store.library.Library.compact_symbol_list" class="md-nav__link">
    <span class="md-ellipsis">
      compact_symbol_list
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcticdb.version_store.library.Library.defragment_symbol_data" class="md-nav__link">
    <span class="md-ellipsis">
      defragment_symbol_data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcticdb.version_store.library.Library.delete" class="md-nav__link">
    <span class="md-ellipsis">
      delete
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcticdb.version_store.library.Library.delete_batch" class="md-nav__link">
    <span class="md-ellipsis">
      delete_batch
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcticdb.version_store.library.Library.delete_data_in_range" class="md-nav__link">
    <span class="md-ellipsis">
      delete_data_in_range
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcticdb.version_store.library.Library.delete_snapshot" class="md-nav__link">
    <span class="md-ellipsis">
      delete_snapshot
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcticdb.version_store.library.Library.delete_staged_data" class="md-nav__link">
    <span class="md-ellipsis">
      delete_staged_data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcticdb.version_store.library.Library.enterprise_options" class="md-nav__link">
    <span class="md-ellipsis">
      enterprise_options
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcticdb.version_store.library.Library.finalize_staged_data" class="md-nav__link">
    <span class="md-ellipsis">
      finalize_staged_data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcticdb.version_store.library.Library.get_description" class="md-nav__link">
    <span class="md-ellipsis">
      get_description
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcticdb.version_store.library.Library.get_description_batch" class="md-nav__link">
    <span class="md-ellipsis">
      get_description_batch
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcticdb.version_store.library.Library.get_staged_symbols" class="md-nav__link">
    <span class="md-ellipsis">
      get_staged_symbols
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcticdb.version_store.library.Library.has_symbol" class="md-nav__link">
    <span class="md-ellipsis">
      has_symbol
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcticdb.version_store.library.Library.head" class="md-nav__link">
    <span class="md-ellipsis">
      head
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcticdb.version_store.library.Library.is_symbol_fragmented" class="md-nav__link">
    <span class="md-ellipsis">
      is_symbol_fragmented
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcticdb.version_store.library.Library.list_snapshots" class="md-nav__link">
    <span class="md-ellipsis">
      list_snapshots
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcticdb.version_store.library.Library.list_symbols" class="md-nav__link">
    <span class="md-ellipsis">
      list_symbols
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcticdb.version_store.library.Library.list_versions" class="md-nav__link">
    <span class="md-ellipsis">
      list_versions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcticdb.version_store.library.Library.options" class="md-nav__link">
    <span class="md-ellipsis">
      options
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcticdb.version_store.library.Library.prune_previous_versions" class="md-nav__link">
    <span class="md-ellipsis">
      prune_previous_versions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcticdb.version_store.library.Library.read" class="md-nav__link">
    <span class="md-ellipsis">
      read
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcticdb.version_store.library.Library.read_batch" class="md-nav__link">
    <span class="md-ellipsis">
      read_batch
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcticdb.version_store.library.Library.read_batch_and_join" class="md-nav__link">
    <span class="md-ellipsis">
      read_batch_and_join
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcticdb.version_store.library.Library.read_metadata" class="md-nav__link">
    <span class="md-ellipsis">
      read_metadata
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcticdb.version_store.library.Library.read_metadata_batch" class="md-nav__link">
    <span class="md-ellipsis">
      read_metadata_batch
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcticdb.version_store.library.Library.reload_symbol_list" class="md-nav__link">
    <span class="md-ellipsis">
      reload_symbol_list
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcticdb.version_store.library.Library.snapshot" class="md-nav__link">
    <span class="md-ellipsis">
      snapshot
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcticdb.version_store.library.Library.sort_and_finalize_staged_data" class="md-nav__link">
    <span class="md-ellipsis">
      sort_and_finalize_staged_data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcticdb.version_store.library.Library.stage" class="md-nav__link">
    <span class="md-ellipsis">
      stage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcticdb.version_store.library.Library.tail" class="md-nav__link">
    <span class="md-ellipsis">
      tail
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcticdb.version_store.library.Library.update" class="md-nav__link">
    <span class="md-ellipsis">
      update
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcticdb.version_store.library.Library.update_batch" class="md-nav__link">
    <span class="md-ellipsis">
      update_batch
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcticdb.version_store.library.Library.write" class="md-nav__link">
    <span class="md-ellipsis">
      write
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcticdb.version_store.library.Library.write_batch" class="md-nav__link">
    <span class="md-ellipsis">
      write_batch
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcticdb.version_store.library.Library.write_metadata" class="md-nav__link">
    <span class="md-ellipsis">
      write_metadata
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcticdb.version_store.library.Library.write_metadata_batch" class="md-nav__link">
    <span class="md-ellipsis">
      write_metadata_batch
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcticdb.version_store.library.Library.write_pickle" class="md-nav__link">
    <span class="md-ellipsis">
      write_pickle
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcticdb.version_store.library.Library.write_pickle_batch" class="md-nav__link">
    <span class="md-ellipsis">
      write_pickle_batch
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../library_types/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Library Related Objects
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../processing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    DataFrame Processing Operations API
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../exceptions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Exceptions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../config/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Config
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../admin_tools/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Admin Tools
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../query_stats/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Query Stats
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                



                  


  
  


<h1 id="library-api">Library API<a class="headerlink" href="#library-api" title="Permanent link">&para;</a></h1>
<p>This page documents the <code>arcticdb.version_store.library</code> module. This module is the main interface
exposing read/write functionality within a given Arctic instance.</p>
<p>The key functionality is exposed through <code>arcticdb.version_store.library.Library</code> instances. See the
Arctic API section for notes on how to create these. The other types exposed in this module are less
important and are used as part of the signature of <code>arcticdb.version_store.library.Library</code> instance
methods.</p>


<div class="doc doc-object doc-class">



<h2 id="arcticdb.version_store.library.Library" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">arcticdb.version_store.library.Library</span>


<a href="#arcticdb.version_store.library.Library" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents first">


        <p>The main interface exposing read/write functionality within a given Arctic instance.</p>
<p>Arctic libraries contain named symbols which are the atomic unit of data storage within Arctic. Symbols
contain data that in most cases resembles a DataFrame and are versioned such that all modifying
operations can be tracked and reverted.</p>
<p>Instances of this class provide a number of primitives to write, modify and remove symbols, as well as
also providing methods to manage library snapshots. For more information on snapshots please see the <code>snapshot</code>
method.</p>
<p>Arctic libraries support concurrent writes and reads to multiple symbols as well as concurrent reads to a single
symbol. However, concurrent writers to a single symbol are not supported other than for primitives that
explicitly state support for single-symbol concurrent writes.</p>












<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">METHOD</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="admin_tools (arcticdb.version_store.library.Library.admin_tools)" href="#arcticdb.version_store.library.Library.admin_tools">admin_tools</a></code></td>
              <td class="doc-function-details">
                <div class="doc-md-description">
                  <p>Administrative utilities that operate on this library.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="append (arcticdb.version_store.library.Library.append)" href="#arcticdb.version_store.library.Library.append">append</a></code></td>
              <td class="doc-function-details">
                <div class="doc-md-description">
                  <p>Appends the given data to the existing, stored data. Append always appends along the index. A new version will</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="append_batch (arcticdb.version_store.library.Library.append_batch)" href="#arcticdb.version_store.library.Library.append_batch">append_batch</a></code></td>
              <td class="doc-function-details">
                <div class="doc-md-description">
                  <p>Append data to multiple symbols in a batch fashion. This is more efficient than making multiple <code>append</code> calls in</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="compact_symbol_list (arcticdb.version_store.library.Library.compact_symbol_list)" href="#arcticdb.version_store.library.Library.compact_symbol_list">compact_symbol_list</a></code></td>
              <td class="doc-function-details">
                <div class="doc-md-description">
                  <p>Compact the symbol list cache into a single key in the storage</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="defragment_symbol_data (arcticdb.version_store.library.Library.defragment_symbol_data)" href="#arcticdb.version_store.library.Library.defragment_symbol_data">defragment_symbol_data</a></code></td>
              <td class="doc-function-details">
                <div class="doc-md-description">
                  <p>Compacts fragmented segments by merging row-sliced segments (https://docs.arcticdb.io/technical/on_disk_storage/#data-layer).</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="delete (arcticdb.version_store.library.Library.delete)" href="#arcticdb.version_store.library.Library.delete">delete</a></code></td>
              <td class="doc-function-details">
                <div class="doc-md-description">
                  <p>Delete all versions of the symbol from the library, unless <code>version</code> is specified, in which case only those</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="delete_batch (arcticdb.version_store.library.Library.delete_batch)" href="#arcticdb.version_store.library.Library.delete_batch">delete_batch</a></code></td>
              <td class="doc-function-details">
                <div class="doc-md-description">
                  <p>Delete multiple symbols in a batch fashion.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="delete_data_in_range (arcticdb.version_store.library.Library.delete_data_in_range)" href="#arcticdb.version_store.library.Library.delete_data_in_range">delete_data_in_range</a></code></td>
              <td class="doc-function-details">
                <div class="doc-md-description">
                  <p>Delete data within the given date range, creating a new version of <code>symbol</code>.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="delete_snapshot (arcticdb.version_store.library.Library.delete_snapshot)" href="#arcticdb.version_store.library.Library.delete_snapshot">delete_snapshot</a></code></td>
              <td class="doc-function-details">
                <div class="doc-md-description">
                  <p>Delete a named snapshot. This may take time if the given snapshot is the last reference to the underlying</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="delete_staged_data (arcticdb.version_store.library.Library.delete_staged_data)" href="#arcticdb.version_store.library.Library.delete_staged_data">delete_staged_data</a></code></td>
              <td class="doc-function-details">
                <div class="doc-md-description">
                  <p>Removes staged data.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="enterprise_options (arcticdb.version_store.library.Library.enterprise_options)" href="#arcticdb.version_store.library.Library.enterprise_options">enterprise_options</a></code></td>
              <td class="doc-function-details">
                <div class="doc-md-description">
                  <p>Enterprise library options set on this library. See also <code>options</code> for non-enterprise options.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="finalize_staged_data (arcticdb.version_store.library.Library.finalize_staged_data)" href="#arcticdb.version_store.library.Library.finalize_staged_data">finalize_staged_data</a></code></td>
              <td class="doc-function-details">
                <div class="doc-md-description">
                  <p>Finalizes staged data, making it available for reads. All staged segments must be ordered and non-overlapping.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="get_description (arcticdb.version_store.library.Library.get_description)" href="#arcticdb.version_store.library.Library.get_description">get_description</a></code></td>
              <td class="doc-function-details">
                <div class="doc-md-description">
                  <p>Returns descriptive data for <code>symbol</code>.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="get_description_batch (arcticdb.version_store.library.Library.get_description_batch)" href="#arcticdb.version_store.library.Library.get_description_batch">get_description_batch</a></code></td>
              <td class="doc-function-details">
                <div class="doc-md-description">
                  <p>Returns descriptive data for a list of <code>symbols</code>.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="get_staged_symbols (arcticdb.version_store.library.Library.get_staged_symbols)" href="#arcticdb.version_store.library.Library.get_staged_symbols">get_staged_symbols</a></code></td>
              <td class="doc-function-details">
                <div class="doc-md-description">
                  <p>Returns all symbols with staged, unfinalized data.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="has_symbol (arcticdb.version_store.library.Library.has_symbol)" href="#arcticdb.version_store.library.Library.has_symbol">has_symbol</a></code></td>
              <td class="doc-function-details">
                <div class="doc-md-description">
                  <p>Whether this library contains the given symbol.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="head (arcticdb.version_store.library.Library.head)" href="#arcticdb.version_store.library.Library.head">head</a></code></td>
              <td class="doc-function-details">
                <div class="doc-md-description">
                  <p>Read the first n rows of data for the named symbol. If n is negative, return all rows except the last n rows.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="is_symbol_fragmented (arcticdb.version_store.library.Library.is_symbol_fragmented)" href="#arcticdb.version_store.library.Library.is_symbol_fragmented">is_symbol_fragmented</a></code></td>
              <td class="doc-function-details">
                <div class="doc-md-description">
                  <p>Check whether the number of segments that would be reduced by compaction is more than or equal to the</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="list_snapshots (arcticdb.version_store.library.Library.list_snapshots)" href="#arcticdb.version_store.library.Library.list_snapshots">list_snapshots</a></code></td>
              <td class="doc-function-details">
                <div class="doc-md-description">
                  <p>List the snapshots in the library.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="list_symbols (arcticdb.version_store.library.Library.list_symbols)" href="#arcticdb.version_store.library.Library.list_symbols">list_symbols</a></code></td>
              <td class="doc-function-details">
                <div class="doc-md-description">
                  <p>Return the symbols in this library.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="list_versions (arcticdb.version_store.library.Library.list_versions)" href="#arcticdb.version_store.library.Library.list_versions">list_versions</a></code></td>
              <td class="doc-function-details">
                <div class="doc-md-description">
                  <p>Get the versions in this library, filtered by the passed in parameters.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="options (arcticdb.version_store.library.Library.options)" href="#arcticdb.version_store.library.Library.options">options</a></code></td>
              <td class="doc-function-details">
                <div class="doc-md-description">
                  <p>Library options set on this library. See also <code>enterprise_options</code>.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="prune_previous_versions (arcticdb.version_store.library.Library.prune_previous_versions)" href="#arcticdb.version_store.library.Library.prune_previous_versions">prune_previous_versions</a></code></td>
              <td class="doc-function-details">
                <div class="doc-md-description">
                  <p>Removes all (non-snapshotted) versions from the database for the given symbol, except the latest.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="read (arcticdb.version_store.library.Library.read)" href="#arcticdb.version_store.library.Library.read">read</a></code></td>
              <td class="doc-function-details">
                <div class="doc-md-description">
                  <p>Read data for the named symbol.  Returns a VersionedItem object with a data and metadata element (as passed into</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="read_batch (arcticdb.version_store.library.Library.read_batch)" href="#arcticdb.version_store.library.Library.read_batch">read_batch</a></code></td>
              <td class="doc-function-details">
                <div class="doc-md-description">
                  <p>Reads multiple symbols.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="read_batch_and_join (arcticdb.version_store.library.Library.read_batch_and_join)" href="#arcticdb.version_store.library.Library.read_batch_and_join">read_batch_and_join</a></code></td>
              <td class="doc-function-details">
                <div class="doc-md-description">
                  <p>Reads multiple symbols in a batch, and then joins them together using the first clause in the <code>query_builder</code></p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="read_metadata (arcticdb.version_store.library.Library.read_metadata)" href="#arcticdb.version_store.library.Library.read_metadata">read_metadata</a></code></td>
              <td class="doc-function-details">
                <div class="doc-md-description">
                  <p>Return the metadata saved for a symbol.  This method is faster than read as it only loads the metadata, not the</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="read_metadata_batch (arcticdb.version_store.library.Library.read_metadata_batch)" href="#arcticdb.version_store.library.Library.read_metadata_batch">read_metadata_batch</a></code></td>
              <td class="doc-function-details">
                <div class="doc-md-description">
                  <p>Reads the metadata of multiple symbols.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="reload_symbol_list (arcticdb.version_store.library.Library.reload_symbol_list)" href="#arcticdb.version_store.library.Library.reload_symbol_list">reload_symbol_list</a></code></td>
              <td class="doc-function-details">
                <div class="doc-md-description">
                  <p>Forces the symbol list cache to be reloaded.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="snapshot (arcticdb.version_store.library.Library.snapshot)" href="#arcticdb.version_store.library.Library.snapshot">snapshot</a></code></td>
              <td class="doc-function-details">
                <div class="doc-md-description">
                  <p>Creates a named snapshot of the data within a library.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="sort_and_finalize_staged_data (arcticdb.version_store.library.Library.sort_and_finalize_staged_data)" href="#arcticdb.version_store.library.Library.sort_and_finalize_staged_data">sort_and_finalize_staged_data</a></code></td>
              <td class="doc-function-details">
                <div class="doc-md-description">
                  <p>Sorts and merges all staged data, making it available for reads. This differs from <code>finalize_staged_data</code> in that it</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="stage (arcticdb.version_store.library.Library.stage)" href="#arcticdb.version_store.library.Library.stage">stage</a></code></td>
              <td class="doc-function-details">
                <div class="doc-md-description">
                  <p>Similar to <code>write</code> but the written segments are left in an "incomplete" state, unable to be read until they</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="tail (arcticdb.version_store.library.Library.tail)" href="#arcticdb.version_store.library.Library.tail">tail</a></code></td>
              <td class="doc-function-details">
                <div class="doc-md-description">
                  <p>Read the last n rows of data for the named symbol. If n is negative, return all rows except the first n rows.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="update (arcticdb.version_store.library.Library.update)" href="#arcticdb.version_store.library.Library.update">update</a></code></td>
              <td class="doc-function-details">
                <div class="doc-md-description">
                  <p>Overwrites existing symbol data with the contents of <code>data</code>. The entire range between the first and last index</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="update_batch (arcticdb.version_store.library.Library.update_batch)" href="#arcticdb.version_store.library.Library.update_batch">update_batch</a></code></td>
              <td class="doc-function-details">
                <div class="doc-md-description">
                  <p>Perform an update operation on a list of symbols in parallel. All constrains on</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="write (arcticdb.version_store.library.Library.write)" href="#arcticdb.version_store.library.Library.write">write</a></code></td>
              <td class="doc-function-details">
                <div class="doc-md-description">
                  <p>Write <code>data</code> to the specified <code>symbol</code>. If <code>symbol</code> already exists then a new version will be created to</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="write_batch (arcticdb.version_store.library.Library.write_batch)" href="#arcticdb.version_store.library.Library.write_batch">write_batch</a></code></td>
              <td class="doc-function-details">
                <div class="doc-md-description">
                  <p>Write a batch of multiple symbols.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="write_metadata (arcticdb.version_store.library.Library.write_metadata)" href="#arcticdb.version_store.library.Library.write_metadata">write_metadata</a></code></td>
              <td class="doc-function-details">
                <div class="doc-md-description">
                  <p>Write metadata under the specified symbol name to this library. The data will remain unchanged.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="write_metadata_batch (arcticdb.version_store.library.Library.write_metadata_batch)" href="#arcticdb.version_store.library.Library.write_metadata_batch">write_metadata_batch</a></code></td>
              <td class="doc-function-details">
                <div class="doc-md-description">
                  <p>Write metadata to multiple symbols in a batch fashion. This is more efficient than making multiple <code>write_metadata</code> calls</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="write_pickle (arcticdb.version_store.library.Library.write_pickle)" href="#arcticdb.version_store.library.Library.write_pickle">write_pickle</a></code></td>
              <td class="doc-function-details">
                <div class="doc-md-description">
                  <p>See <code>write</code>. This method differs from <code>write</code> only in that <code>data</code> can be of any type that is serialisable via</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="write_pickle_batch (arcticdb.version_store.library.Library.write_pickle_batch)" href="#arcticdb.version_store.library.Library.write_pickle_batch">write_pickle_batch</a></code></td>
              <td class="doc-function-details">
                <div class="doc-md-description">
                  <p>Write a batch of multiple symbols, pickling their data if necessary.</p>
                </div>
              </td>
            </tr>
      </tbody>
    </table>




<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">ATTRIBUTE</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="name


  
      property
   (arcticdb.version_store.library.Library.name)" href="#arcticdb.version_store.library.Library.name">name</a></code></td>
            <td class="doc-attribute-details">
              <div class="doc-md-description">
                <p>The name of this library.</p>
              </div>
              <p>
                  <span class="doc-attribute-annotation">
                    <b>TYPE:</b>
                      <code><span title="str">str</span></code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>




  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h3 id="arcticdb.version_store.library.Library.name" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">name</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#arcticdb.version_store.library.Library.name" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">name</span><span class="p">:</span> <span class="n"><span title="str">str</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>The name of this library.</p>

    </div>

</div>




<div class="doc doc-object doc-function">


<h3 id="arcticdb.version_store.library.Library.admin_tools" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">admin_tools</span>


<a href="#arcticdb.version_store.library.Library.admin_tools" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">admin_tools</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="arcticdb.version_store.admin_tools.AdminTools" href="../admin_tools/#arcticdb.version_store.admin_tools.AdminTools">AdminTools</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Administrative utilities that operate on this library.</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="arcticdb.version_store.library.Library.append" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">append</span>


<a href="#arcticdb.version_store.library.Library.append" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">append</span><span class="p">(</span>
    <span class="n">symbol</span><span class="p">:</span> <span class="n"><span title="str">str</span></span><span class="p">,</span>
    <span class="n">data</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="arcticdb.version_store.library.NormalizableType


  
      module-attribute
  " href="../library_types/#arcticdb.version_store.library.NormalizableType">NormalizableType</a></span><span class="p">,</span>
    <span class="n">metadata</span><span class="p">:</span> <span class="n"><span title="typing.Any">Any</span></span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">prune_previous_versions</span><span class="p">:</span> <span class="n"><span title="bool">bool</span></span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">validate_index</span><span class="p">:</span> <span class="n"><span title="bool">bool</span></span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="arcticdb.VersionedItem (arcticdb.version_store._store.VersionedItem)" href="../library_types/#arcticdb.VersionedItem">VersionedItem</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Appends the given data to the existing, stored data. Append always appends along the index. A new version will
be created to reference the newly-appended data. Append only accepts data for which the index of the first
row is equal to or greater than the index of the last row in the existing data.</p>
<p>Appends containing differing column sets to the existing data are only possible if the library has been
configured to support dynamic schemas.</p>
<p>If <code>append</code> is called on a symbol that does not exist, it will create it. This is convenient when setting up
a new symbol, but be careful - it will not work for creating a new version of an existing symbol. Use <code>write</code>
in that case.</p>
<p>Note that <code>append</code> is not designed for multiple concurrent writers over a single symbol.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>symbol</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Symbol name.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="str">str</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>data</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Data to be written.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><a class="autorefs autorefs-internal" title="arcticdb.version_store.library.NormalizableType


  
      module-attribute
  " href="../library_types/#arcticdb.version_store.library.NormalizableType">NormalizableType</a></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>metadata</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Optional metadata to persist along with the new symbol version. Note that the metadata is
not combined in any way with the metadata stored in the previous version.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Any">Any</span></code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>None</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>prune_previous_versions</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Removes previous (non-snapshotted) versions from the database.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="bool">bool</span></code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>False</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>validate_index</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>If True, verify that the index of <code>data</code> supports date range searches and update operations.
This tests that the data is sorted in ascending order, using Pandas DataFrame.index.is_monotonic_increasing.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="bool">bool</span></code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>True</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code><a class="autorefs autorefs-internal" title="arcticdb.VersionedItem (arcticdb.version_store._store.VersionedItem)" href="../library_types/#arcticdb.VersionedItem">VersionedItem</a></code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>Structure containing metadata and version number of the written symbol in the store.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RAISES</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
              <span class="doc-raises-annotation">
                  <code><span title="UnsortedDataException">UnsortedDataException</span></code>
              </span>
            </td>
            <td class="doc-raises-details">
              <div class="doc-md-description">
                <p>If data is unsorted, when validate_index is set to True.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
<span class="gp">... </span>   <span class="p">{</span><span class="s1">&#39;column&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]},</span>
<span class="gp">... </span>   <span class="n">index</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="s1">&#39;1/1/2018&#39;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;1/03/2018&#39;</span><span class="p">)</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">            column</span>
<span class="go">2018-01-01       1</span>
<span class="go">2018-01-02       2</span>
<span class="go">2018-01-03       3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;symbol&quot;</span><span class="p">,</span> <span class="n">df</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">to_append_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
<span class="gp">... </span>   <span class="p">{</span><span class="s1">&#39;column&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">]},</span>
<span class="gp">... </span>   <span class="n">index</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="s1">&#39;1/4/2018&#39;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;1/06/2018&#39;</span><span class="p">)</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">to_append_df</span>
<span class="go">            column</span>
<span class="go">2018-01-04       4</span>
<span class="go">2018-01-05       5</span>
<span class="go">2018-01-06       6</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;symbol&quot;</span><span class="p">,</span> <span class="n">to_append_df</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s2">&quot;symbol&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">data</span>
<span class="go">            column</span>
<span class="go">2018-01-01       1</span>
<span class="go">2018-01-02       2</span>
<span class="go">2018-01-03       3</span>
<span class="go">2018-01-04       4</span>
<span class="go">2018-01-05       5</span>
<span class="go">2018-01-06       6</span>
</code></pre></div>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="arcticdb.version_store.library.Library.append_batch" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">append_batch</span>


<a href="#arcticdb.version_store.library.Library.append_batch" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">append_batch</span><span class="p">(</span>
    <span class="n">append_payloads</span><span class="p">:</span> <span class="n"><span title="typing.List">List</span></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-internal" title="arcticdb.WritePayload (arcticdb.version_store.library.WritePayload)" href="../library_types/#arcticdb.WritePayload">WritePayload</a></span><span class="p">],</span>
    <span class="n">prune_previous_versions</span><span class="p">:</span> <span class="n"><span title="bool">bool</span></span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">validate_index</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="typing.List">List</span></span><span class="p">[</span><span class="n"><span title="typing.Union">Union</span></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-internal" title="arcticdb.VersionedItem (arcticdb.version_store._store.VersionedItem)" href="../library_types/#arcticdb.VersionedItem">VersionedItem</a></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" title="arcticdb.DataError (arcticdb_ext.version_store.DataError)" href="../exceptions/#arcticdb.DataError">DataError</a></span><span class="p">]]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Append data to multiple symbols in a batch fashion. This is more efficient than making multiple <code>append</code> calls in
succession as some constant-time operations can be executed only once rather than once for each element of
<code>append_payloads</code>.
Note that this isn't an atomic operation - it's possible for one symbol to be fully written and readable before
another symbol.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>append_payloads</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Symbols and their corresponding data. There must not be any duplicate symbols in <code>append_payloads</code>.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code>`List[WritePayload]`</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>prune_previous_versions</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Removes previous (non-snapshotted) versions from the database.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="bool">bool</span></code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>False</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>validate_index</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Verify that each entry in the batch has an index that supports date range searches and update operations.
This tests that the data is sorted in ascending order, using Pandas DataFrame.index.is_monotonic_increasing.</p>
              </div>
              <p>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>True</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code><span title="typing.List">List</span>[<span title="typing.Union">Union</span>[<a class="autorefs autorefs-internal" title="arcticdb.VersionedItem (arcticdb.version_store._store.VersionedItem)" href="../library_types/#arcticdb.VersionedItem">VersionedItem</a>, <a class="autorefs autorefs-internal" title="arcticdb.DataError (arcticdb_ext.version_store.DataError)" href="../exceptions/#arcticdb.DataError">DataError</a>]]</code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>List of versioned items. i-th entry corresponds to i-th element of <code>append_payloads</code>.
Each result correspond to a structure containing metadata and version number of the affected
symbol in the store. If a key error or any other internal exception is raised, a DataError object is returned, with symbol,
error_code, error_category, and exception_string properties.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RAISES</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
              <span class="doc-raises-annotation">
                  <code><a class="autorefs autorefs-internal" title="arcticdb.version_store.library.ArcticDuplicateSymbolsInBatchException" href="../exceptions/#arcticdb.version_store.library.ArcticDuplicateSymbolsInBatchException">ArcticDuplicateSymbolsInBatchException</a></code>
              </span>
            </td>
            <td class="doc-raises-details">
              <div class="doc-md-description">
                <p>When duplicate symbols appear in payload.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
              <span class="doc-raises-annotation">
                  <code><a class="autorefs autorefs-internal" title="arcticdb.version_store.library.ArcticUnsupportedDataTypeException" href="../exceptions/#arcticdb.version_store.library.ArcticUnsupportedDataTypeException">ArcticUnsupportedDataTypeException</a></code>
              </span>
            </td>
            <td class="doc-raises-details">
              <div class="doc-md-description">
                <p>If data that is not of NormalizableType appears in any of the payloads.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="arcticdb.version_store.library.Library.compact_symbol_list" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">compact_symbol_list</span>


<a href="#arcticdb.version_store.library.Library.compact_symbol_list" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">compact_symbol_list</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Compact the symbol list cache into a single key in the storage</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code>The number of symbol list keys prior to compaction</code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RAISES</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
              <span class="doc-raises-annotation">
                  <code><span title="PermissionException">PermissionException</span></code>
              </span>
            </td>
            <td class="doc-raises-details">
              <div class="doc-md-description">
                <p>Library has been opened in read-only mode</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
              <span class="doc-raises-annotation">
                  <code><span title="InternalException">InternalException</span></code>
              </span>
            </td>
            <td class="doc-raises-details">
              <div class="doc-md-description">
                <p>Storage lock required to compact the symbol list could not be acquired</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="arcticdb.version_store.library.Library.defragment_symbol_data" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">defragment_symbol_data</span>


<a href="#arcticdb.version_store.library.Library.defragment_symbol_data" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">defragment_symbol_data</span><span class="p">(</span>
    <span class="n">symbol</span><span class="p">:</span> <span class="n"><span title="str">str</span></span><span class="p">,</span>
    <span class="n">segment_size</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="int">int</span></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">prune_previous_versions</span><span class="p">:</span> <span class="n"><span title="bool">bool</span></span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="arcticdb.VersionedItem (arcticdb.version_store._store.VersionedItem)" href="../library_types/#arcticdb.VersionedItem">VersionedItem</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Compacts fragmented segments by merging row-sliced segments (https://docs.arcticdb.io/technical/on_disk_storage/#data-layer).
This method calls <code>is_symbol_fragmented</code> to determine whether to proceed with the defragmentation operation.</p>
<p>CAUTION - Please note that a major restriction of this method at present is that any column slicing present on the data will be
removed in the new version created as a result of this method.
As a result, if the impacted symbol has more than 127 columns (default value), the performance of selecting individual columns of
the symbol (by using the <code>columns</code> parameter) may be negatively impacted in the defragmented version.
If your symbol has less than 127 columns this caveat does not apply.
For more information, please see <code>columns_per_segment</code> here:</p>
<p>https://docs.arcticdb.io/api/arcticdb/arcticdb.LibraryOptions</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>symbol</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Symbol name.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="str">str</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>segment_size</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Target for maximum no. of rows per segment, after compaction.
If parameter is not provided, library option - "segment_row_size" will be used
Note that no. of rows per segment, after compaction, may exceed the target.
It is for achieving smallest no. of segment after compaction. Please refer to below example for further explanation.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Optional">Optional</span>[<span title="int">int</span>]</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>None</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>prune_previous_versions</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Removes previous (non-snapshotted) versions from the database.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="bool">bool</span></code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>False</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code><a class="autorefs autorefs-internal" title="arcticdb.VersionedItem (arcticdb.version_store._store.VersionedItem)" href="../library_types/#arcticdb.VersionedItem">VersionedItem</a></code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>Structure containing metadata and version number of the defragmented symbol in the store.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RAISES</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
              <span class="doc-raises-annotation">
                  <code>1002 ErrorCategory.INTERNAL:E_ASSERTION_FAILURE</code>
              </span>
            </td>
            <td class="doc-raises-details">
              <div class="doc-md-description">
                <p>If <code>is_symbol_fragmented</code> returns false.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
              <span class="doc-raises-annotation">
                  <code>2001 ErrorCategory.NORMALIZATION:E_UNIMPLEMENTED_INPUT_TYPE</code>
              </span>
            </td>
            <td class="doc-raises-details">
              <div class="doc-md-description">
                <p>If library option - "bucketize_dynamic" is ON</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;symbol&quot;</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;A&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">]},</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="n">pd</span><span class="o">.</span><span class="n">Timestamp</span><span class="p">(</span><span class="mi">0</span><span class="p">)]))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;symbol&quot;</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;A&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]},</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="n">pd</span><span class="o">.</span><span class="n">Timestamp</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">pd</span><span class="o">.</span><span class="n">Timestamp</span><span class="p">(</span><span class="mi">2</span><span class="p">)]))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;symbol&quot;</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;A&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">3</span><span class="p">]},</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="n">pd</span><span class="o">.</span><span class="n">Timestamp</span><span class="p">(</span><span class="mi">3</span><span class="p">)]))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lib_tool</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">_dev_tools</span><span class="o">.</span><span class="n">library_tool</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lib_tool</span><span class="o">.</span><span class="n">read_index</span><span class="p">(</span><span class="n">sym</span><span class="p">)</span>
<span class="go">                    start_index                     end_index  version_id stream_id          creation_ts          content_hash  index_type  key_type  start_col  end_col  start_row  end_row</span>
<span class="go">1970-01-01 00:00:00.000000000 1970-01-01 00:00:00.000000001          20    b&#39;sym&#39;  1678974096622685727   6872717287607530038          84         2          1        2          0        1</span>
<span class="go">1970-01-01 00:00:00.000000001 1970-01-01 00:00:00.000000003          21    b&#39;sym&#39;  1678974096931527858  12345256156783683504          84         2          1        2          1        3</span>
<span class="go">1970-01-01 00:00:00.000000003 1970-01-01 00:00:00.000000004          22    b&#39;sym&#39;  1678974096970045987   7952936283266921920          84         2          1        2          3        4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="o">.</span><span class="n">version_store</span><span class="o">.</span><span class="n">defragment_symbol_data</span><span class="p">(</span><span class="s2">&quot;symbol&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lib_tool</span><span class="o">.</span><span class="n">read_index</span><span class="p">(</span><span class="n">sym</span><span class="p">)</span>  <span class="c1"># Returns two segments rather than three as a result of the defragmentation operation</span>
<span class="go">                    start_index                     end_index  version_id stream_id          creation_ts         content_hash  index_type  key_type  start_col  end_col  start_row  end_row</span>
<span class="go">1970-01-01 00:00:00.000000000 1970-01-01 00:00:00.000000003          23    b&#39;sym&#39;  1678974097067271451  5576804837479525884          84         2          1        2          0        3</span>
<span class="go">1970-01-01 00:00:00.000000003 1970-01-01 00:00:00.000000004          23    b&#39;sym&#39;  1678974097067427062  7952936283266921920          84         2          1        2          3        4</span>
</code></pre></div>


<details class="note" open>
  <summary>Notes</summary>
  <p>Config map setting - SymbolDataCompact.SegmentCount will be replaced by a library setting
in the future. This API will allow overriding the setting as well.</p>
</details>

    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="arcticdb.version_store.library.Library.delete" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">delete</span>


<a href="#arcticdb.version_store.library.Library.delete" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">delete</span><span class="p">(</span>
    <span class="n">symbol</span><span class="p">:</span> <span class="n"><span title="str">str</span></span><span class="p">,</span>
    <span class="n">versions</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="typing.Union">Union</span></span><span class="p">[</span><span class="n"><span title="int">int</span></span><span class="p">,</span> <span class="n"><span title="typing.Iterable">Iterable</span></span><span class="p">[</span><span class="n"><span title="int">int</span></span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Delete all versions of the symbol from the library, unless <code>version</code> is specified, in which case only those
versions are deleted.</p>
<p>This may not actually delete the underlying data if a snapshot still references the version. See <code>snapshot</code> for
more detail.</p>
<p>Note that this may require data to be removed from the underlying storage which can be slow.</p>
<p>This method does not remove any staged data, use <code>delete_staged_data</code> for that.</p>
<p>If no symbol called <code>symbol</code> exists then this is a no-op. In particular this method does not raise in this case.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>symbol</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Symbol to delete.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="str">str</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>versions</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Version or versions of symbol to delete. If <code>None</code> then all versions will be deleted.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Optional">Optional</span>[<span title="typing.Union">Union</span>[<span title="int">int</span>, <span title="typing.Iterable">Iterable</span>[<span title="int">int</span>]]]</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>None</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="arcticdb.version_store.library.Library.delete_batch" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">delete_batch</span>


<a href="#arcticdb.version_store.library.Library.delete_batch" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">delete_batch</span><span class="p">(</span>
    <span class="n">delete_requests</span><span class="p">:</span> <span class="n"><span title="typing.List">List</span></span><span class="p">[</span><span class="n"><span title="typing.Union">Union</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">,</span> <span class="n"><span title="arcticdb.version_store.library.DeleteRequest">DeleteRequest</span></span><span class="p">]],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="typing.List">List</span></span><span class="p">[</span><span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-internal" title="arcticdb.DataError (arcticdb_ext.version_store.DataError)" href="../exceptions/#arcticdb.DataError">DataError</a></span><span class="p">]]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Delete multiple symbols in a batch fashion.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>delete_requests</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>List of symbols to delete. Can be either:
- String symbols (delete all versions of the symbol)
- DeleteRequest objects (delete specific versions of the symbol, must have at least one version)</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.List">List</span>[<span title="typing.Union">Union</span>[<span title="str">str</span>, <span title="arcticdb.version_store.library.DeleteRequest">DeleteRequest</span>]]</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code><span title="typing.List">List</span>[<a class="autorefs autorefs-internal" title="arcticdb.DataError (arcticdb_ext.version_store.DataError)" href="../exceptions/#arcticdb.DataError">DataError</a>]</code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>List of DataError objects, one for each symbol that was not deleted due to an error.
If the symbol was already deleted, there will be no error, just a warning.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="arcticdb.version_store.library.Library.delete_data_in_range" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">delete_data_in_range</span>


<a href="#arcticdb.version_store.library.Library.delete_data_in_range" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">delete_data_in_range</span><span class="p">(</span>
    <span class="n">symbol</span><span class="p">:</span> <span class="n"><span title="str">str</span></span><span class="p">,</span>
    <span class="n">date_range</span><span class="p">:</span> <span class="n"><span title="typing.Tuple">Tuple</span></span><span class="p">[</span>
        <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="arcticdb.supported_types.Timestamp">Timestamp</span></span><span class="p">],</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="arcticdb.supported_types.Timestamp">Timestamp</span></span><span class="p">]</span>
    <span class="p">],</span>
    <span class="n">prune_previous_versions</span><span class="p">:</span> <span class="n"><span title="bool">bool</span></span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Delete data within the given date range, creating a new version of <code>symbol</code>.</p>
<p>The existing symbol version must be timeseries-indexed.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>symbol</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Symbol name.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="str">str</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>date_range</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>The date range in which to delete data. Leaving any part of the tuple as None leaves that part of the range
open ended.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Tuple">Tuple</span>[<span title="typing.Optional">Optional</span>[<span title="arcticdb.supported_types.Timestamp">Timestamp</span>], <span title="typing.Optional">Optional</span>[<span title="arcticdb.supported_types.Timestamp">Timestamp</span>]]</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>prune_previous_versions</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Removes previous (non-snapshotted) versions from the database.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="bool">bool</span></code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>False</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;column&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">]},</span> <span class="n">index</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="s2">&quot;1/1/2018&quot;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s2">&quot;1/4/2018&quot;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;symbol&quot;</span><span class="p">,</span> <span class="n">df</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="o">.</span><span class="n">delete_data_in_range</span><span class="p">(</span><span class="s2">&quot;symbol&quot;</span><span class="p">,</span> <span class="n">date_range</span><span class="o">=</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2018</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2018</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="p">[</span><span class="s2">&quot;symbol&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">version</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="p">[</span><span class="s2">&quot;symbol&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">data</span>
<span class="go">                column</span>
<span class="go">2018-01-03       7</span>
<span class="go">2018-01-04       8</span>
</code></pre></div>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="arcticdb.version_store.library.Library.delete_snapshot" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">delete_snapshot</span>


<a href="#arcticdb.version_store.library.Library.delete_snapshot" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">delete_snapshot</span><span class="p">(</span><span class="n">snapshot_name</span><span class="p">:</span> <span class="n"><span title="str">str</span></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Delete a named snapshot. This may take time if the given snapshot is the last reference to the underlying
symbol(s) as the underlying data will be removed as well.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>snapshot_name</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>The snapshot name to delete.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="str">str</span></code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RAISES</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
              <span class="doc-raises-annotation">
                  <code><span title="Exception">Exception</span></code>
              </span>
            </td>
            <td class="doc-raises-details">
              <div class="doc-md-description">
                <p>If the named snapshot does not exist.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="arcticdb.version_store.library.Library.delete_staged_data" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">delete_staged_data</span>


<a href="#arcticdb.version_store.library.Library.delete_staged_data" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">delete_staged_data</span><span class="p">(</span><span class="n">symbol</span><span class="p">:</span> <span class="n"><span title="str">str</span></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Removes staged data.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>symbol</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Symbol to remove staged data for.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code>`str`</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<details class="see-also" open>
  <summary>See Also</summary>
  <p>write
    Documentation on the <code>staged</code> parameter explains the concept of staged data in more detail.</p>
</details>

    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="arcticdb.version_store.library.Library.enterprise_options" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">enterprise_options</span>


<a href="#arcticdb.version_store.library.Library.enterprise_options" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">enterprise_options</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n"><span title="arcticdb.options.EnterpriseLibraryOptions">EnterpriseLibraryOptions</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Enterprise library options set on this library. See also <code>options</code> for non-enterprise options.</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="arcticdb.version_store.library.Library.finalize_staged_data" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">finalize_staged_data</span>


<a href="#arcticdb.version_store.library.Library.finalize_staged_data" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">finalize_staged_data</span><span class="p">(</span>
    <span class="n">symbol</span><span class="p">:</span> <span class="n"><span title="str">str</span></span><span class="p">,</span>
    <span class="n">mode</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span>
        <span class="n"><span title="typing.Union">Union</span></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-internal" title="arcticdb.version_store.library.StagedDataFinalizeMethod" href="../library_types/#arcticdb.version_store.library.StagedDataFinalizeMethod">StagedDataFinalizeMethod</a></span><span class="p">,</span> <span class="n"><span title="str">str</span></span><span class="p">]</span>
    <span class="p">]</span> <span class="o">=</span> <span class="n"><span title="arcticdb.version_store.library.StagedDataFinalizeMethod.WRITE">WRITE</span></span><span class="p">,</span>
    <span class="n">prune_previous_versions</span><span class="p">:</span> <span class="n"><span title="bool">bool</span></span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">metadata</span><span class="p">:</span> <span class="n"><span title="typing.Any">Any</span></span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">validate_index</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">delete_staged_data_on_failure</span><span class="p">:</span> <span class="n"><span title="bool">bool</span></span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">stage_results</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="typing.List">List</span></span><span class="p">[</span><span class="n"><span title="arcticdb_ext.version_store.StageResult">StageResult</span></span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="arcticdb.VersionedItem (arcticdb.version_store._store.VersionedItem)" href="../library_types/#arcticdb.VersionedItem">VersionedItem</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Finalizes staged data, making it available for reads. All staged segments must be ordered and non-overlapping.
<code>finalize_staged_data</code> is less time-consuming than <code>sort_and_finalize_staged_data</code>.</p>
<p>If <code>mode</code> is <code>StagedDataFinalizeMethod.APPEND</code> or <code>append</code> the index of the first row of the new segment must be equal to or greater
than the index of the last row in the existing data.</p>
<p>If <code>Static Schema</code> is used all staged block must have matching schema (same column names, same dtype, same column ordering)
and must match the existing data if mode is <code>StagedDataFinalizeMethod.APPEND</code>. For more information about schema options see
documentation for <code>arcticdb.LibraryOptions.dynamic_schema</code></p>
<p>If the symbol does not exist both <code>StagedDataFinalizeMethod.APPEND</code> and <code>StagedDataFinalizeMethod.WRITE</code> will create it.</p>
<p>Calling <code>finalize_staged_data</code> without having staged data for the symbol will throw <code>UserInputException</code>. Use
<code>get_staged_symbols</code> to check if there are staged segments for the symbol.</p>
<p>Calling <code>finalize_staged_data</code> if any of the staged segments contains NaT in its index will throw <code>SortingException</code>.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>symbol</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Symbol to finalize data for.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code>`str`</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>mode</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Finalize mode. Valid options are WRITE or APPEND. Write collects the staged data and writes them to a
new timeseries. Append collects the staged data and appends them to the latest version.</p>
<p>Also accepts strings "write" or "append" (case-insensitive).</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Union">Union</span>[<span title="str">str</span>, <a class="autorefs autorefs-internal" title="arcticdb.version_store.library.StagedDataFinalizeMethod" href="../library_types/#arcticdb.version_store.library.StagedDataFinalizeMethod">StagedDataFinalizeMethod</a>]</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>StagedDataFinalizeMethod.WRITE</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>prune_previous_versions</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Removes previous (non-snapshotted) versions from the database.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="bool">bool</span></code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>False</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>metadata</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Optional metadata to persist along with the symbol.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Any">Any</span></code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>None</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>validate_index</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>If True, and staged segments are timeseries, will verify that the index of the symbol after this operation
supports date range searches and update operations. This requires that the indexes of the staged segments
are non-overlapping with each other, and, in the case of <code>StagedDataFinalizeMethod.APPEND</code>, fall after the
last index value in the previous version.</p>
              </div>
              <p>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>True</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>delete_staged_data_on_failure</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Determines the handling of staged data when an exception occurs during the execution of the
<code>finalize_staged_data</code> function.</p>
<ul>
<li>If set to True, all staged data for the specified symbol will be deleted if an exception occurs.</li>
<li>If set to False, the staged data will be retained and will be used in subsequent calls to
  <code>finalize_staged_data</code>.</li>
</ul>
<p>To manually delete staged data, use the <code>delete_staged_data</code> function.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="bool">bool</span></code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>False</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>stage_results</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>If specified, only the data corresponding to the provided <code>StageResult</code>s will be finalized. See <code>stage</code>.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Optional">Optional</span>[<span title="typing.List">List</span>[<span title="arcticdb_ext.version_store.StageResult">StageResult</span>]]</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>None</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code><a class="autorefs autorefs-internal" title="arcticdb.VersionedItem (arcticdb.version_store._store.VersionedItem)" href="../library_types/#arcticdb.VersionedItem">VersionedItem</a></code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>Structure containing metadata and version number of the written symbol in the store.
The data member will be None.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RAISES</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
              <span class="doc-raises-annotation">
                  <code><span title="SortingException">SortingException</span></code>
              </span>
            </td>
            <td class="doc-raises-details">
              <div class="doc-md-description">
                <ul>
<li>If any two staged segments for a given symbol have overlapping indexes</li>
<li>If any staged segment for a given symbol is not sorted</li>
<li>If the first index value of the new segment is not greater or equal than the last index value of
    the existing data when <code>StagedDataFinalizeMethod.APPEND</code> is used.</li>
<li>If any staged segment contains NaT in the index</li>
</ul>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
              <span class="doc-raises-annotation">
                  <code><span title="UserInputException">UserInputException</span></code>
              </span>
            </td>
            <td class="doc-raises-details">
              <div class="doc-md-description">
                <ul>
<li>If there are no staged segments when <code>finalize_staged_data</code> is called</li>
<li>
<p>If all of the following conditions are met:</p>
<ol>
<li>Static schema is used.</li>
<li>The width of the DataFrame exceeds the value of <code>LibraryOptions.columns_per_segment</code>.</li>
<li>The symbol contains data that was not written by <code>finalize_staged_data</code>.</li>
<li>Finalize mode is append</li>
</ol>
</li>
</ul>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
              <span class="doc-raises-annotation">
                  <code><span title="SchemaException">SchemaException</span></code>
              </span>
            </td>
            <td class="doc-raises-details">
              <div class="doc-md-description">
                <ul>
<li>If static schema is used and not all staged segments have matching schema.</li>
<li>If static schema is used, mode is <code>StagedDataFinalizeMethod.APPEND</code> and the schema of the new segment
    is not the same as the schema of the existing data</li>
<li>If dynamic schema is used and different segments have the same column names but their dtypes don't have a
    common type (e.g string and any numeric type)</li>
<li>If a different index name is encountered in the staged data, regardless of the schema mode</li>
</ul>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="see-also" open>
  <summary>See Also</summary>
  <p>stage
    Documentation on the <code>stage</code> method explains the concept of staged data in more detail.</p>
</details>

<p><span class="doc-section-title">Examples:</span></p>
    <p>Finalizing all of the staged data</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">result1</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">stage</span><span class="p">(</span><span class="s2">&quot;sym&quot;</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;col&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]},</span> <span class="n">index</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">DatetimeIndex</span><span class="p">([</span><span class="n">pd</span><span class="o">.</span><span class="n">Timestamp</span><span class="p">(</span><span class="mi">2024</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="n">pd</span><span class="o">.</span><span class="n">Timestamp</span><span class="p">(</span><span class="mi">2024</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)])))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result2</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">stage</span><span class="p">(</span><span class="s2">&quot;sym&quot;</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;col&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]},</span> <span class="n">index</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">DatetimeIndex</span><span class="p">([</span><span class="n">pd</span><span class="o">.</span><span class="n">Timestamp</span><span class="p">(</span><span class="mi">2024</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">pd</span><span class="o">.</span><span class="n">Timestamp</span><span class="p">(</span><span class="mi">2024</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)])))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="o">.</span><span class="n">finalize_staged_data</span><span class="p">(</span><span class="s2">&quot;sym&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s2">&quot;sym&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">data</span>
<span class="go">            col</span>
<span class="go">2024-01-01    1</span>
<span class="go">2024-01-02    2</span>
<span class="go">2024-01-03    3</span>
<span class="go">2024-01-04    4</span>
</code></pre></div>
    <p>Finalizing only some of the staged data</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="o">.</span><span class="n">finalize_staged_data</span><span class="p">(</span><span class="s2">&quot;staged&quot;</span><span class="p">,</span> <span class="n">StagedDataFinalizeMethod</span><span class="o">.</span><span class="n">WRITE</span><span class="p">,</span> <span class="n">stage_results</span><span class="o">=</span><span class="p">[</span><span class="n">result1</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s2">&quot;staged&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">data</span>
<span class="go">            col</span>
<span class="go">2000-01-03    3</span>
<span class="go">2000-01-04    4</span>
</code></pre></div>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="arcticdb.version_store.library.Library.get_description" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">get_description</span>


<a href="#arcticdb.version_store.library.Library.get_description" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">get_description</span><span class="p">(</span>
    <span class="n">symbol</span><span class="p">:</span> <span class="n"><span title="str">str</span></span><span class="p">,</span> <span class="n">as_of</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="arcticdb.version_store.library.AsOf">AsOf</span></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="arcticdb.version_store.library.SymbolDescription" href="../library_types/#arcticdb.version_store.library.SymbolDescription">SymbolDescription</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Returns descriptive data for <code>symbol</code>.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>symbol</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Symbol name.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="str">str</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>as_of</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>See documentation on <code>read</code>.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="arcticdb.version_store.library.AsOf">AsOf</span></code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>None</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code><a class="autorefs autorefs-internal" title="arcticdb.version_store.library.SymbolDescription" href="../library_types/#arcticdb.version_store.library.SymbolDescription">SymbolDescription</a></code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>Named tuple containing the descriptive data.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="see-also" open>
  <summary>See Also</summary>
  <p>SymbolDescription
    For documentation on each field.</p>
</details>

    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="arcticdb.version_store.library.Library.get_description_batch" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">get_description_batch</span>


<a href="#arcticdb.version_store.library.Library.get_description_batch" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">get_description_batch</span><span class="p">(</span>
    <span class="n">symbols</span><span class="p">:</span> <span class="n"><span title="typing.List">List</span></span><span class="p">[</span><span class="n"><span title="typing.Union">Union</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" title="arcticdb.ReadInfoRequest (arcticdb.version_store.library.ReadInfoRequest)" href="../library_types/#arcticdb.ReadInfoRequest">ReadInfoRequest</a></span><span class="p">]],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="typing.List">List</span></span><span class="p">[</span><span class="n"><span title="typing.Union">Union</span></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-internal" title="arcticdb.version_store.library.SymbolDescription" href="../library_types/#arcticdb.version_store.library.SymbolDescription">SymbolDescription</a></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" title="arcticdb.DataError (arcticdb_ext.version_store.DataError)" href="../exceptions/#arcticdb.DataError">DataError</a></span><span class="p">]]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Returns descriptive data for a list of <code>symbols</code>.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>symbols</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>List of symbols to read.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.List">List</span>[<span title="typing.Union">Union</span>[<span title="str">str</span>, <a class="autorefs autorefs-internal" title="arcticdb.ReadInfoRequest (arcticdb.version_store.library.ReadInfoRequest)" href="../library_types/#arcticdb.ReadInfoRequest">ReadInfoRequest</a>]]</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code><span title="typing.List">List</span>[<span title="typing.Union">Union</span>[<a class="autorefs autorefs-internal" title="arcticdb.version_store.library.SymbolDescription" href="../library_types/#arcticdb.version_store.library.SymbolDescription">SymbolDescription</a>, <a class="autorefs autorefs-internal" title="arcticdb.DataError (arcticdb_ext.version_store.DataError)" href="../exceptions/#arcticdb.DataError">DataError</a>]]</code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>A list of the descriptive data, whose i-th element corresponds to the i-th element of the <code>symbols</code> parameter.
If the specified version does not exist, a DataError object is returned, with symbol, version_request_type,
version_request_data properties, error_code, error_category, and exception_string properties. If a key error or
any other internal exception occurs, the same DataError object is also returned.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="see-also" open>
  <summary>See Also</summary>
  <p>SymbolDescription
    For documentation on each field.</p>
</details>

    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="arcticdb.version_store.library.Library.get_staged_symbols" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">get_staged_symbols</span>


<a href="#arcticdb.version_store.library.Library.get_staged_symbols" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">get_staged_symbols</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n"><span title="typing.List">List</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Returns all symbols with staged, unfinalized data.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code><span title="typing.List">List</span>[<span title="str">str</span>]</code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>Symbol names.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="see-also" open>
  <summary>See Also</summary>
  <p>write
    Documentation on the <code>staged</code> parameter explains the concept of staged data in more detail.</p>
</details>

    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="arcticdb.version_store.library.Library.has_symbol" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">has_symbol</span>


<a href="#arcticdb.version_store.library.Library.has_symbol" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">has_symbol</span><span class="p">(</span>
    <span class="n">symbol</span><span class="p">:</span> <span class="n"><span title="str">str</span></span><span class="p">,</span> <span class="n">as_of</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="arcticdb.version_store.library.AsOf">AsOf</span></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="bool">bool</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Whether this library contains the given symbol.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>symbol</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Symbol name for the item</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="str">str</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>as_of</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Return the data as it was as_of the point in time. See <code>read</code> for more documentation. If absent then
considers symbols that are live in the library as of the current time.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="arcticdb.version_store.library.AsOf">AsOf</span></code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>None</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code><span title="bool">bool</span></code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>True if the symbol is in the library, False otherwise.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;symbol&quot;</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="o">.</span><span class="n">has_symbol</span><span class="p">(</span><span class="s2">&quot;symbol&quot;</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="o">.</span><span class="n">has_symbol</span><span class="p">(</span><span class="s2">&quot;another_symbol&quot;</span><span class="p">)</span>
<span class="go">False</span>
</code></pre></div>
    <p>The <strong>contains</strong> operator also checks whether a symbol exists in this library as of now:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="s2">&quot;symbol&quot;</span> <span class="ow">in</span> <span class="n">lib</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s2">&quot;another_symbol&quot;</span> <span class="ow">in</span> <span class="n">lib</span>
<span class="go">False</span>
</code></pre></div>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="arcticdb.version_store.library.Library.head" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">head</span>


<a href="#arcticdb.version_store.library.Library.head" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">head</span><span class="p">(</span>
    <span class="n">symbol</span><span class="p">:</span> <span class="n"><span title="str">str</span></span><span class="p">,</span>
    <span class="n">n</span><span class="p">:</span> <span class="n"><span title="int">int</span></span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span>
    <span class="n">as_of</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="arcticdb.version_store.library.AsOf">AsOf</span></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">columns</span><span class="p">:</span> <span class="n"><span title="typing.List">List</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">lazy</span><span class="p">:</span> <span class="n"><span title="bool">bool</span></span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">output_format</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span>
        <span class="n"><span title="typing.Union">Union</span></span><span class="p">[</span><span class="n"><span title="arcticdb.options.OutputFormat">OutputFormat</span></span><span class="p">,</span> <span class="n"><span title="str">str</span></span><span class="p">]</span>
    <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="typing.Union">Union</span></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-internal" title="arcticdb.VersionedItem (arcticdb.version_store._store.VersionedItem)" href="../library_types/#arcticdb.VersionedItem">VersionedItem</a></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" title="arcticdb.LazyDataFrame (arcticdb.version_store.library.LazyDataFrame)" href="../processing/#arcticdb.LazyDataFrame">LazyDataFrame</a></span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Read the first n rows of data for the named symbol. If n is negative, return all rows except the last n rows.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>symbol</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Symbol name.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="str">str</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>n</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Number of rows to select if non-negative, otherwise number of rows to exclude.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="int">int</span></code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>5</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>as_of</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>See documentation on <code>read</code>.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="arcticdb.version_store.library.AsOf">AsOf</span></code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>None</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>columns</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>See documentation on <code>read</code>.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.List">List</span>[<span title="str">str</span>]</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>None</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>lazy</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>See documentation on <code>read</code>.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="bool">bool</span></code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>False</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>output_format</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>See documentation on <code>read</code>.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Optional">Optional</span>[<span title="typing.Union">Union</span>[<span title="arcticdb.options.OutputFormat">OutputFormat</span>, <span title="str">str</span>]]</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>None</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code><span title="typing.Union">Union</span>[<a class="autorefs autorefs-internal" title="arcticdb.VersionedItem (arcticdb.version_store._store.VersionedItem)" href="../library_types/#arcticdb.VersionedItem">VersionedItem</a>, <a class="autorefs autorefs-internal" title="arcticdb.LazyDataFrame (arcticdb.version_store.library.LazyDataFrame)" href="../processing/#arcticdb.LazyDataFrame">LazyDataFrame</a>]</code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>If lazy is False, VersionedItem object that contains a .data and .metadata element.
If lazy is True, a LazyDataFrame object on which further querying can be performed prior to collect.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="arcticdb.version_store.library.Library.is_symbol_fragmented" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">is_symbol_fragmented</span>


<a href="#arcticdb.version_store.library.Library.is_symbol_fragmented" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">is_symbol_fragmented</span><span class="p">(</span>
    <span class="n">symbol</span><span class="p">:</span> <span class="n"><span title="str">str</span></span><span class="p">,</span> <span class="n">segment_size</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="int">int</span></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="bool">bool</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Check whether the number of segments that would be reduced by compaction is more than or equal to the
value specified by the configuration option "SymbolDataCompact.SegmentCount" (defaults to 100).</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>symbol</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Symbol name.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="str">str</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>segment_size</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Target for maximum no. of rows per segment, after compaction.
If parameter is not provided, library option for segments's maximum row size will be used</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Optional">Optional</span>[<span title="int">int</span>]</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>None</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<details class="note" open>
  <summary>Notes</summary>
  <p>Config map setting - SymbolDataCompact.SegmentCount will be replaced by a library setting
in the future. This API will allow overriding the setting as well.</p>
</details>

<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code><span title="bool">bool</span></code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="arcticdb.version_store.library.Library.list_snapshots" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">list_snapshots</span>


<a href="#arcticdb.version_store.library.Library.list_snapshots" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">list_snapshots</span><span class="p">(</span>
    <span class="n">load_metadata</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="bool">bool</span></span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="typing.Union">Union</span></span><span class="p">[</span><span class="n"><span title="typing.List">List</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">],</span> <span class="n"><span title="typing.Dict">Dict</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">,</span> <span class="n"><span title="typing.Any">Any</span></span><span class="p">]]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>List the snapshots in the library.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>load_metadata</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Load the snapshot metadata. May be slow so opt for false if you don't need it.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code>`Optional[bool]`</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>True</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code><span title="typing.Union">Union</span>[<span title="typing.List">List</span>[<span title="str">str</span>], <span title="typing.Dict">Dict</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>]]</code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>Snapshots in the library. Returns a list of snapshot names if load_metadata is False, otherwise returns a
dictionary where keys are snapshot names and values are metadata associated with that snapshot.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="arcticdb.version_store.library.Library.list_symbols" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">list_symbols</span>


<a href="#arcticdb.version_store.library.Library.list_symbols" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">list_symbols</span><span class="p">(</span>
    <span class="n">snapshot_name</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">regex</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="typing.List">List</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Return the symbols in this library.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>regex</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>If passed, returns only the symbols which match the regex.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>None</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>snapshot_name</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Return the symbols available under the snapshot. If None then considers symbols that are live in the
library as of the current time.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>None</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code><span title="typing.List">List</span>[<span title="str">str</span>]</code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>Symbols in the library.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="arcticdb.version_store.library.Library.list_versions" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">list_versions</span>


<a href="#arcticdb.version_store.library.Library.list_versions" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">list_versions</span><span class="p">(</span>
    <span class="n">symbol</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">snapshot</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">latest_only</span><span class="p">:</span> <span class="n"><span title="bool">bool</span></span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">skip_snapshots</span><span class="p">:</span> <span class="n"><span title="bool">bool</span></span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="typing.Dict">Dict</span></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-internal" title="arcticdb.version_store.library.SymbolVersion" href="../library_types/#arcticdb.version_store.library.SymbolVersion">SymbolVersion</a></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" title="arcticdb.version_store.library.VersionInfo" href="../library_types/#arcticdb.version_store.library.VersionInfo">VersionInfo</a></span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Get the versions in this library, filtered by the passed in parameters.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>symbol</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Symbol to return versions for.  If None returns versions across all symbols in the library.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>None</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>snapshot</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Only return the versions contained in the named snapshot.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>None</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>latest_only</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Only include the latest version for each returned symbol.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="bool">bool</span></code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>False</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>skip_snapshots</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Don't populate version list with snapshot information. Can improve performance significantly if there are
many snapshots.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="bool">bool</span></code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>False</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code><span title="typing.Dict">Dict</span>[<a class="autorefs autorefs-internal" title="arcticdb.version_store.library.SymbolVersion" href="../library_types/#arcticdb.version_store.library.SymbolVersion">SymbolVersion</a>, <a class="autorefs autorefs-internal" title="arcticdb.version_store.library.VersionInfo" href="../library_types/#arcticdb.version_store.library.VersionInfo">VersionInfo</a>]</code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>Dictionary describing the version for each symbol-version pair in the library. Since symbol version is a
(named) tuple you can index in to the dictionary simply as shown in the examples below.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;symbol&quot;</span><span class="p">,</span> <span class="n">df</span><span class="p">,</span> <span class="n">metadata</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;symbol&quot;</span><span class="p">,</span> <span class="n">df</span><span class="p">,</span> <span class="n">metadata</span><span class="o">=</span><span class="mi">11</span><span class="p">,</span> <span class="n">prune_previous_versions</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="o">.</span><span class="n">snapshot</span><span class="p">(</span><span class="s2">&quot;snapshot&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;symbol&quot;</span><span class="p">,</span> <span class="n">df</span><span class="p">,</span> <span class="n">metadata</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">prune_previous_versions</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="s2">&quot;symbol&quot;</span><span class="p">,</span> <span class="n">versions</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">versions</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">list_versions</span><span class="p">(</span><span class="s2">&quot;symbol&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">versions</span><span class="p">[</span><span class="s2">&quot;symbol&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">deleted</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">versions</span><span class="p">[</span><span class="s2">&quot;symbol&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">snapshots</span>
<span class="go">[&quot;my_snap&quot;]</span>
</code></pre></div>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="arcticdb.version_store.library.Library.options" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">options</span>


<a href="#arcticdb.version_store.library.Library.options" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">options</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="arcticdb.LibraryOptions (arcticdb.options.LibraryOptions)" href="../arctic/#arcticdb.LibraryOptions">LibraryOptions</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Library options set on this library. See also <code>enterprise_options</code>.</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="arcticdb.version_store.library.Library.prune_previous_versions" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">prune_previous_versions</span>


<a href="#arcticdb.version_store.library.Library.prune_previous_versions" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">prune_previous_versions</span><span class="p">(</span><span class="n">symbol</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Removes all (non-snapshotted) versions from the database for the given symbol, except the latest.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>symbol</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Symbol name to prune.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code>`str`</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="arcticdb.version_store.library.Library.read" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">read</span>


<a href="#arcticdb.version_store.library.Library.read" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">read</span><span class="p">(</span>
    <span class="n">symbol</span><span class="p">:</span> <span class="n"><span title="str">str</span></span><span class="p">,</span>
    <span class="n">as_of</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="arcticdb.version_store.library.AsOf">AsOf</span></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">date_range</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span>
        <span class="n"><span title="typing.Tuple">Tuple</span></span><span class="p">[</span><span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="arcticdb.supported_types.Timestamp">Timestamp</span></span><span class="p">],</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="arcticdb.supported_types.Timestamp">Timestamp</span></span><span class="p">]]</span>
    <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">row_range</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="typing.Tuple">Tuple</span></span><span class="p">[</span><span class="n"><span title="int">int</span></span><span class="p">,</span> <span class="n"><span title="int">int</span></span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">columns</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="typing.List">List</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">query_builder</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-internal" title="arcticdb.QueryBuilder (arcticdb.version_store.processing.QueryBuilder)" href="../processing/#arcticdb.QueryBuilder">QueryBuilder</a></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">lazy</span><span class="p">:</span> <span class="n"><span title="bool">bool</span></span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">output_format</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span>
        <span class="n"><span title="typing.Union">Union</span></span><span class="p">[</span><span class="n"><span title="arcticdb.options.OutputFormat">OutputFormat</span></span><span class="p">,</span> <span class="n"><span title="str">str</span></span><span class="p">]</span>
    <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="typing.Union">Union</span></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-internal" title="arcticdb.VersionedItem (arcticdb.version_store._store.VersionedItem)" href="../library_types/#arcticdb.VersionedItem">VersionedItem</a></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" title="arcticdb.LazyDataFrame (arcticdb.version_store.library.LazyDataFrame)" href="../processing/#arcticdb.LazyDataFrame">LazyDataFrame</a></span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Read data for the named symbol.  Returns a VersionedItem object with a data and metadata element (as passed into
write).</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>symbol</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Symbol name.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="str">str</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>as_of</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Return the data as it was as of the point in time. <code>None</code> means that the latest version should be read. The
various types of this parameter mean:
- <code>int</code>: specific version number. Negative indexing is supported, with -1 representing the latest version, -2 the version before that, etc.
- <code>str</code>: snapshot name which contains the version
- <code>datetime.datetime</code> : the version of the data that existed <code>as_of</code> the requested point in time</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="arcticdb.version_store.library.AsOf">AsOf</span></code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>None</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>date_range</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>DateRange to restrict read data to.</p>
<p>Applicable only for time-indexed Pandas dataframes or series. Returns only the
part of the data that falls withing the given range (inclusive). None on either end leaves that part of the
range open-ended. Hence specifying <code>(None, datetime(2025, 1, 1)</code> declares that you wish to read all data up
to and including 20250101.
The same effect can be achieved by using the date_range clause of the QueryBuilder class, which will be
slower, but return data with a smaller memory footprint. See the QueryBuilder.date_range docstring for more
details.</p>
<p>Only one of date_range or row_range can be provided.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Optional">Optional</span>[<span title="typing.Tuple">Tuple</span>[<span title="typing.Optional">Optional</span>[<span title="arcticdb.supported_types.Timestamp">Timestamp</span>], <span title="typing.Optional">Optional</span>[<span title="arcticdb.supported_types.Timestamp">Timestamp</span>]]]</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>None</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>row_range</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Row range to read data for. Inclusive of the lower bound, exclusive of the upper bound.
lib.read(symbol, row_range=(start, end)).data should behave the same as df.iloc[start:end], including in
the handling of negative start/end values.
Leaving either element as None leaves that side of the range open-ended. For example (5, None) would
include everything from the 5th row onwards.
Only one of date_range or row_range can be provided.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code>`Optional[Tuple[Optional[int], Optional[int]]]`</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>None</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>columns</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Applicable only for Pandas data. Determines which columns to return data for. Special values:
- <code>None</code>: Return a dataframe containing all columns
- <code>[]</code>: Return a dataframe containing only the index columns</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Optional">Optional</span>[<span title="typing.List">List</span>[<span title="str">str</span>]]</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>None</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>query_builder</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>A QueryBuilder object to apply to the dataframe before it is returned. For more information see the
documentation for the QueryBuilder class (<code>from arcticdb import QueryBuilder; help(QueryBuilder)</code>).</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Optional">Optional</span>[<a class="autorefs autorefs-internal" title="arcticdb.QueryBuilder (arcticdb.version_store.processing.QueryBuilder)" href="../processing/#arcticdb.QueryBuilder">QueryBuilder</a>]</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>None</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>lazy</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Defer query execution until <code>collect</code> is called on the returned <code>LazyDataFrame</code> object. See documentation
on <code>LazyDataFrame</code> for more details.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="bool">bool</span></code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>False</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>output_format</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Controls the output format of the result dataframe.
For more information see documentation of <code>Arctic.__init__</code>.
If <code>None</code> uses the default output format from the <code>Library</code> instance.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Optional">Optional</span>[<span title="typing.Union">Union</span>[<span title="arcticdb.options.OutputFormat">OutputFormat</span>, <span title="str">str</span>]]</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>None</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code><span title="typing.Union">Union</span>[<a class="autorefs autorefs-internal" title="arcticdb.VersionedItem (arcticdb.version_store._store.VersionedItem)" href="../library_types/#arcticdb.VersionedItem">VersionedItem</a>, <a class="autorefs autorefs-internal" title="arcticdb.LazyDataFrame (arcticdb.version_store.library.LazyDataFrame)" href="../processing/#arcticdb.LazyDataFrame">LazyDataFrame</a>]</code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>If lazy is False, VersionedItem object that contains a .data and .metadata element.
If lazy is True, a LazyDataFrame object on which further querying can be performed prior to collect.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;column&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;symbol&quot;</span><span class="p">,</span> <span class="n">df</span><span class="p">,</span> <span class="n">metadata</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;my_dictionary&#39;</span><span class="p">:</span> <span class="s1">&#39;is_great&#39;</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s2">&quot;symbol&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">data</span>
<span class="go">   column</span>
<span class="go">0       5</span>
<span class="go">1       6</span>
<span class="go">2       7</span>
</code></pre></div>
    <p>The default read behaviour is also available through subscripting:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="p">[</span><span class="s2">&quot;symbol&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">data</span>
<span class="go">   column</span>
<span class="go">0       5</span>
<span class="go">1       6</span>
<span class="go">2       7</span>
</code></pre></div>
    <p>Passing an output_format can change the resulting dataframe type. E.g. we can use the experimental arrow output
format:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s2">&quot;symbol&quot;</span><span class="p">,</span> <span class="n">output_format</span><span class="o">=</span><span class="s2">&quot;EXPERIMENTAL_ARROW&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">data</span>
<span class="go">pyarrow.Table</span>
<span class="go">column: int64</span>
<span class="go">----</span>
<span class="go">column: [[5,6,7]]</span>
</code></pre></div>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="arcticdb.version_store.library.Library.read_batch" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">read_batch</span>


<a href="#arcticdb.version_store.library.Library.read_batch" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">read_batch</span><span class="p">(</span>
    <span class="n">symbols</span><span class="p">:</span> <span class="n"><span title="typing.List">List</span></span><span class="p">[</span><span class="n"><span title="typing.Union">Union</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" title="arcticdb.ReadRequest (arcticdb.version_store.library.ReadRequest)" href="../library_types/#arcticdb.ReadRequest">ReadRequest</a></span><span class="p">]],</span>
    <span class="n">query_builder</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-internal" title="arcticdb.QueryBuilder (arcticdb.version_store.processing.QueryBuilder)" href="../processing/#arcticdb.QueryBuilder">QueryBuilder</a></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">lazy</span><span class="p">:</span> <span class="n"><span title="bool">bool</span></span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">output_format</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span>
        <span class="n"><span title="typing.Union">Union</span></span><span class="p">[</span><span class="n"><span title="arcticdb.options.OutputFormat">OutputFormat</span></span><span class="p">,</span> <span class="n"><span title="str">str</span></span><span class="p">]</span>
    <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="typing.Union">Union</span></span><span class="p">[</span>
    <span class="n"><span title="typing.List">List</span></span><span class="p">[</span><span class="n"><span title="typing.Union">Union</span></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-internal" title="arcticdb.VersionedItem (arcticdb.version_store._store.VersionedItem)" href="../library_types/#arcticdb.VersionedItem">VersionedItem</a></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" title="arcticdb.DataError (arcticdb_ext.version_store.DataError)" href="../exceptions/#arcticdb.DataError">DataError</a></span><span class="p">]],</span>
    <span class="n"><a class="autorefs autorefs-internal" title="arcticdb.LazyDataFrameCollection (arcticdb.version_store.library.LazyDataFrameCollection)" href="../processing/#arcticdb.LazyDataFrameCollection">LazyDataFrameCollection</a></span><span class="p">,</span>
<span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Reads multiple symbols.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>symbols</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>List of symbols to read.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.List">List</span>[<span title="typing.Union">Union</span>[<span title="str">str</span>, <a class="autorefs autorefs-internal" title="arcticdb.ReadRequest (arcticdb.version_store.library.ReadRequest)" href="../library_types/#arcticdb.ReadRequest">ReadRequest</a>]]</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>query_builder</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>A single QueryBuilder to apply to all the dataframes before they are returned. If this argument is passed
then none of the <code>symbols</code> may have their own query_builder specified in their request.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Optional">Optional</span>[<a class="autorefs autorefs-internal" title="arcticdb.QueryBuilder (arcticdb.version_store.processing.QueryBuilder)" href="../processing/#arcticdb.QueryBuilder">QueryBuilder</a>]</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>None</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>lazy</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Defer query execution until <code>collect</code> is called on the returned <code>LazyDataFrameCollection</code> object. See
documentation on <code>LazyDataFrameCollection</code> for more details.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="bool">bool</span></code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>False</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>output_format</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Controls the output format of the result dataframes.
For more information see documentation of <code>Arctic.__init__</code>.
If <code>None</code> uses the default output format from the <code>Library</code> instance.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Optional">Optional</span>[<span title="typing.Union">Union</span>[<span title="arcticdb.options.OutputFormat">OutputFormat</span>, <span title="str">str</span>]]</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>None</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code><span title="typing.Union">Union</span>[<span title="typing.List">List</span>[<span title="typing.Union">Union</span>[<a class="autorefs autorefs-internal" title="arcticdb.VersionedItem (arcticdb.version_store._store.VersionedItem)" href="../library_types/#arcticdb.VersionedItem">VersionedItem</a>, <a class="autorefs autorefs-internal" title="arcticdb.DataError (arcticdb_ext.version_store.DataError)" href="../exceptions/#arcticdb.DataError">DataError</a>]], <a class="autorefs autorefs-internal" title="arcticdb.LazyDataFrameCollection (arcticdb.version_store.library.LazyDataFrameCollection)" href="../processing/#arcticdb.LazyDataFrameCollection">LazyDataFrameCollection</a>]</code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>If lazy is False:
A list of the read results, whose i-th element corresponds to the i-th element of the <code>symbols</code> parameter.
If the specified version does not exist, a DataError object is returned, with symbol, version_request_type,
version_request_data properties, error_code, error_category, and exception_string properties. If a key error or
any other internal exception occurs, the same DataError object is also returned.
If lazy is True:
A LazyDataFrameCollection object on which further querying can be performed prior to collection.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RAISES</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
              <span class="doc-raises-annotation">
                  <code><a class="autorefs autorefs-internal" title="arcticdb.version_store.library.ArcticInvalidApiUsageException" href="../exceptions/#arcticdb.version_store.library.ArcticInvalidApiUsageException">ArcticInvalidApiUsageException</a></code>
              </span>
            </td>
            <td class="doc-raises-details">
              <div class="doc-md-description">
                <p>If kwarg query_builder and per-symbol query builders both used.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;s1&quot;</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;s2&quot;</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;col&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]}))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;s2&quot;</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(),</span> <span class="n">prune_previous_versions</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;s3&quot;</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">batch</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">read_batch</span><span class="p">([</span><span class="s2">&quot;s1&quot;</span><span class="p">,</span> <span class="n">adb</span><span class="o">.</span><span class="n">ReadRequest</span><span class="p">(</span><span class="s2">&quot;s2&quot;</span><span class="p">,</span> <span class="n">as_of</span><span class="o">=</span><span class="mi">0</span><span class="p">),</span> <span class="s2">&quot;s3&quot;</span><span class="p">,</span> <span class="n">adb</span><span class="o">.</span><span class="n">ReadRequest</span><span class="p">(</span><span class="s2">&quot;s2&quot;</span><span class="p">,</span> <span class="n">as_of</span><span class="o">=</span><span class="mi">1000</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">batch</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">empty</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">batch</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">empty</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">batch</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">empty</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">batch</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">symbol</span>
<span class="go">&quot;s2&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">isinstance</span><span class="p">(</span><span class="n">batch</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">adb</span><span class="o">.</span><span class="n">DataError</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">batch</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">version_request_type</span>
<span class="go">VersionRequestType.SPECIFIC</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">batch</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">version_request_data</span>
<span class="go">1000</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">batch</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">error_code</span>
<span class="go">ErrorCode.E_NO_SUCH_VERSION</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">batch</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">error_category</span>
<span class="go">ErrorCategory.MISSING_DATA</span>
</code></pre></div>


<details class="see-also" open>
  <summary>See Also</summary>
  <p>read</p>
</details>

    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="arcticdb.version_store.library.Library.read_batch_and_join" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">read_batch_and_join</span>


<a href="#arcticdb.version_store.library.Library.read_batch_and_join" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">read_batch_and_join</span><span class="p">(</span>
    <span class="n">symbols</span><span class="p">:</span> <span class="n"><span title="typing.List">List</span></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-internal" title="arcticdb.ReadRequest (arcticdb.version_store.library.ReadRequest)" href="../library_types/#arcticdb.ReadRequest">ReadRequest</a></span><span class="p">],</span>
    <span class="n">query_builder</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="arcticdb.QueryBuilder (arcticdb.version_store.processing.QueryBuilder)" href="../processing/#arcticdb.QueryBuilder">QueryBuilder</a></span><span class="p">,</span>
    <span class="n">output_format</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span>
        <span class="n"><span title="typing.Union">Union</span></span><span class="p">[</span><span class="n"><span title="arcticdb.options.OutputFormat">OutputFormat</span></span><span class="p">,</span> <span class="n"><span title="str">str</span></span><span class="p">]</span>
    <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="arcticdb.version_store._store.VersionedItemWithJoin">VersionedItemWithJoin</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Reads multiple symbols in a batch, and then joins them together using the first clause in the <code>query_builder</code>
argument. If there are subsequent clauses in the <code>query_builder</code> argument, then these are applied to the joined
data.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>symbols</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>List of symbols to read.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.List">List</span>[<span title="typing.Union">Union</span>[<span title="str">str</span>, <a class="autorefs autorefs-internal" title="arcticdb.ReadRequest (arcticdb.version_store.library.ReadRequest)" href="../library_types/#arcticdb.ReadRequest">ReadRequest</a>]]</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>query_builder</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>The first clause must be a multi-symbol join, such as <code>concat</code>. Any subsequent clauses must work on
individual dataframes, and will be applied to the joined data.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><a class="autorefs autorefs-internal" title="arcticdb.QueryBuilder (arcticdb.version_store.processing.QueryBuilder)" href="../processing/#arcticdb.QueryBuilder">QueryBuilder</a></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>output_format</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Controls the output format of the result dataframe.
For more information see documentation of <code>Arctic.__init__</code>.
If <code>None</code> uses the default output format from the <code>Library</code> instance.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Optional">Optional</span>[<span title="typing.Union">Union</span>[<span title="arcticdb.options.OutputFormat">OutputFormat</span>, <span title="str">str</span>]]</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>None</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code><span title="arcticdb.version_store._store.VersionedItemWithJoin">VersionedItemWithJoin</span></code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>Contains a .data field with the joined together data, and a list of VersionedItem objects describing the
version number, metadata, etc., of the symbols that were joined together.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RAISES</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
              <span class="doc-raises-annotation">
                  <code><span title="UserInputException">UserInputException</span></code>
              </span>
            </td>
            <td class="doc-raises-details">
              <div class="doc-md-description">
                <ul>
<li>If the first clause in <code>query_builder</code> is not a multi-symbol join</li>
<li>If any subsequent clauses in <code>query_builder</code> are not single-symbol clauses</li>
<li>If any of the specified symbols are recursively normalized</li>
</ul>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
              <span class="doc-raises-annotation">
                  <code><span title="MissingDataException">MissingDataException</span></code>
              </span>
            </td>
            <td class="doc-raises-details">
              <div class="doc-md-description">
                <ul>
<li>If a symbol or the version of symbol specified in as_ofs does not exist or has been deleted</li>
</ul>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
              <span class="doc-raises-annotation">
                  <code><span title="SchemaException">SchemaException</span></code>
              </span>
            </td>
            <td class="doc-raises-details">
              <div class="doc-md-description">
                <ul>
<li>If the schema of symbols to be joined are incompatible. Examples of incompatible schemas include:<ul>
<li>Trying to join a Series to a DataFrame</li>
<li>Different index types, including MultiIndexes with different numbers of levels</li>
<li>Incompatible column types e.g. joining a string column to an integer column</li>
</ul>
</li>
</ul>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <p>Join 2 symbols together without any pre or post processing.</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">df0</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
<span class="go">    {</span>
<span class="go">        &quot;col1&quot;: [0.5],</span>
<span class="go">        &quot;col2&quot;: [1],</span>
<span class="go">    },</span>
<span class="go">    index=[pd.Timestamp(&quot;2025-01-01&quot;)],</span>
<span class="go">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
<span class="go">    {</span>
<span class="go">        &quot;col3&quot;: [&quot;hello&quot;],</span>
<span class="go">        &quot;col2&quot;: [2],</span>
<span class="go">    },</span>
<span class="go">    index=[pd.Timestamp(&quot;2025-01-02&quot;)],</span>
<span class="go">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="n">adb</span><span class="o">.</span><span class="n">QueryBuilder</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="n">q</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="s2">&quot;outer&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;symbol0&quot;</span><span class="p">,</span> <span class="n">df0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;symbol1&quot;</span><span class="p">,</span> <span class="n">df1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="o">.</span><span class="n">read_batch_and_join</span><span class="p">([</span><span class="s2">&quot;symbol0&quot;</span><span class="p">,</span> <span class="s2">&quot;symbol1&quot;</span><span class="p">],</span> <span class="n">query_builder</span><span class="o">=</span><span class="n">q</span><span class="p">)</span><span class="o">.</span><span class="n">data</span>
</code></pre></div>
    <pre><code>                       col1     col2     col3
2025-01-01 00:00:00     0.5        1     None
2025-01-02 00:00:00     NaN        2  "hello"
</code></pre>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="n">adb</span><span class="o">.</span><span class="n">QueryBuilder</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="n">q</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="s2">&quot;inner&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="o">.</span><span class="n">read_batch_and_join</span><span class="p">([</span><span class="s2">&quot;symbol0&quot;</span><span class="p">,</span> <span class="s2">&quot;symbol1&quot;</span><span class="p">],</span> <span class="n">query_builder</span><span class="o">=</span><span class="n">q</span><span class="p">)</span><span class="o">.</span><span class="n">data</span>
</code></pre></div>
    <pre><code>                       col2
2025-01-01 00:00:00       1
2025-01-02 00:00:00       2
</code></pre>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="arcticdb.version_store.library.Library.read_metadata" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">read_metadata</span>


<a href="#arcticdb.version_store.library.Library.read_metadata" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">read_metadata</span><span class="p">(</span>
    <span class="n">symbol</span><span class="p">:</span> <span class="n"><span title="str">str</span></span><span class="p">,</span> <span class="n">as_of</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="arcticdb.version_store.library.AsOf">AsOf</span></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="arcticdb.VersionedItem (arcticdb.version_store._store.VersionedItem)" href="../library_types/#arcticdb.VersionedItem">VersionedItem</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Return the metadata saved for a symbol.  This method is faster than read as it only loads the metadata, not the
data itself.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>symbol</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Symbol name</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="str">str</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>as_of</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Return the metadata as it was as of the point in time. See documentation on <code>read</code> for documentation on
the different forms this parameter can take.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="arcticdb.version_store.library.AsOf">AsOf</span></code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>None</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code><a class="autorefs autorefs-internal" title="arcticdb.VersionedItem (arcticdb.version_store._store.VersionedItem)" href="../library_types/#arcticdb.VersionedItem">VersionedItem</a></code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>Structure containing metadata and version number of the affected symbol in the store. The data attribute
will be None.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="arcticdb.version_store.library.Library.read_metadata_batch" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">read_metadata_batch</span>


<a href="#arcticdb.version_store.library.Library.read_metadata_batch" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">read_metadata_batch</span><span class="p">(</span>
    <span class="n">symbols</span><span class="p">:</span> <span class="n"><span title="typing.List">List</span></span><span class="p">[</span><span class="n"><span title="typing.Union">Union</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" title="arcticdb.ReadInfoRequest (arcticdb.version_store.library.ReadInfoRequest)" href="../library_types/#arcticdb.ReadInfoRequest">ReadInfoRequest</a></span><span class="p">]],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="typing.List">List</span></span><span class="p">[</span><span class="n"><span title="typing.Union">Union</span></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-internal" title="arcticdb.VersionedItem (arcticdb.version_store._store.VersionedItem)" href="../library_types/#arcticdb.VersionedItem">VersionedItem</a></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" title="arcticdb.DataError (arcticdb_ext.version_store.DataError)" href="../exceptions/#arcticdb.DataError">DataError</a></span><span class="p">]]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Reads the metadata of multiple symbols.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>symbols</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>List of symbols to read metadata.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.List">List</span>[<span title="typing.Union">Union</span>[<span title="str">str</span>, <a class="autorefs autorefs-internal" title="arcticdb.ReadInfoRequest (arcticdb.version_store.library.ReadInfoRequest)" href="../library_types/#arcticdb.ReadInfoRequest">ReadInfoRequest</a>]]</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code><span title="typing.List">List</span>[<span title="typing.Union">Union</span>[<a class="autorefs autorefs-internal" title="arcticdb.VersionedItem (arcticdb.version_store._store.VersionedItem)" href="../library_types/#arcticdb.VersionedItem">VersionedItem</a>, <a class="autorefs autorefs-internal" title="arcticdb.DataError (arcticdb_ext.version_store.DataError)" href="../exceptions/#arcticdb.DataError">DataError</a>]]</code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>A list of the read metadata results, whose i-th element corresponds to the i-th element of the <code>symbols</code> parameter.
A VersionedItem object with the metadata field set as None will be returned if the requested version of the
symbol exists but there is no metadata
If the specified version does not exist, a DataError object is returned, with symbol, version_request_type,
version_request_data properties, error_code, error_category, and exception_string properties. If a key error or
any other internal exception occurs, the same DataError object is also returned.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="see-also" open>
  <summary>See Also</summary>
  <p>read_metadata</p>
</details>

    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="arcticdb.version_store.library.Library.reload_symbol_list" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">reload_symbol_list</span>


<a href="#arcticdb.version_store.library.Library.reload_symbol_list" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">reload_symbol_list</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Forces the symbol list cache to be reloaded.</p>
<p>This can take a long time on large libraries or certain S3 implementations, and once started, it cannot be
safely interrupted. If the call is interrupted somehow (exception/process killed), please call this again ASAP.</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="arcticdb.version_store.library.Library.snapshot" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">snapshot</span>


<a href="#arcticdb.version_store.library.Library.snapshot" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">snapshot</span><span class="p">(</span>
    <span class="n">snapshot_name</span><span class="p">:</span> <span class="n"><span title="str">str</span></span><span class="p">,</span>
    <span class="n">metadata</span><span class="p">:</span> <span class="n"><span title="typing.Any">Any</span></span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">skip_symbols</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="typing.List">List</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">versions</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="typing.Dict">Dict</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">,</span> <span class="n"><span title="int">int</span></span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Creates a named snapshot of the data within a library.</p>
<p>By default, the latest version of every symbol that has not been deleted will be contained within the snapshot.
You can change this behaviour with either <code>versions</code> (an allow-list) or with <code>skip_symbols</code> (a deny-list).
Concurrent writes with prune previous versions set while the snapshot is being taken can potentially lead to
corruption of the affected symbols in the snapshot.</p>
<p>The symbols and versions contained within the snapshot will persist regardless of new symbols and versions
being written to the library afterwards. If a version or symbol referenced in a snapshot is deleted then the
underlying data will be preserved to ensure the snapshot is still accessible. Only once all referencing
snapshots have been removed will the underlying data be removed as well.</p>
<p>At most one of <code>skip_symbols</code> and <code>versions</code> may be truthy.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>snapshot_name</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Name of the snapshot.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="str">str</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>metadata</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Optional metadata to persist along with the snapshot.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Any">Any</span></code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>None</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>skip_symbols</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Optional symbols to be excluded from the snapshot.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.List">List</span>[<span title="str">str</span>]</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>None</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>versions</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Optional dictionary of versions of symbols to snapshot. For example <code>versions={"a": 2, "b": 3}</code> will
snapshot version 2 of symbol "a" and version 3 of symbol "b".</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Optional">Optional</span>[<span title="typing.Dict">Dict</span>[<span title="str">str</span>, <span title="int">int</span>]]</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>None</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RAISES</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
              <span class="doc-raises-annotation">
                  <code><span title="InternalException">InternalException</span></code>
              </span>
            </td>
            <td class="doc-raises-details">
              <div class="doc-md-description">
                <p>If a snapshot already exists with <code>snapshot_name</code>. You must explicitly delete the pre-existing snapshot.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
              <span class="doc-raises-annotation">
                  <code><span title="MissingDataException">MissingDataException</span></code>
              </span>
            </td>
            <td class="doc-raises-details">
              <div class="doc-md-description">
                <p>If a symbol or the version of symbol specified in versions does not exist or has been deleted in the library,
or, the library has no symbol.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="arcticdb.version_store.library.Library.sort_and_finalize_staged_data" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">sort_and_finalize_staged_data</span>


<a href="#arcticdb.version_store.library.Library.sort_and_finalize_staged_data" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">sort_and_finalize_staged_data</span><span class="p">(</span>
    <span class="n">symbol</span><span class="p">:</span> <span class="n"><span title="str">str</span></span><span class="p">,</span>
    <span class="n">mode</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span>
        <span class="n"><span title="typing.Union">Union</span></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-internal" title="arcticdb.version_store.library.StagedDataFinalizeMethod" href="../library_types/#arcticdb.version_store.library.StagedDataFinalizeMethod">StagedDataFinalizeMethod</a></span><span class="p">,</span> <span class="n"><span title="str">str</span></span><span class="p">]</span>
    <span class="p">]</span> <span class="o">=</span> <span class="n"><span title="arcticdb.version_store.library.StagedDataFinalizeMethod.WRITE">WRITE</span></span><span class="p">,</span>
    <span class="n">prune_previous_versions</span><span class="p">:</span> <span class="n"><span title="bool">bool</span></span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">metadata</span><span class="p">:</span> <span class="n"><span title="typing.Any">Any</span></span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">delete_staged_data_on_failure</span><span class="p">:</span> <span class="n"><span title="bool">bool</span></span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">stage_results</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="typing.List">List</span></span><span class="p">[</span><span class="n"><span title="arcticdb_ext.version_store.StageResult">StageResult</span></span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="arcticdb.VersionedItem (arcticdb.version_store._store.VersionedItem)" href="../library_types/#arcticdb.VersionedItem">VersionedItem</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Sorts and merges all staged data, making it available for reads. This differs from <code>finalize_staged_data</code> in that it
can support staged segments with interleaved time periods and staged segments which are not internally sorted. The
end result will be sorted. This requires performing a full sort in memory so can be time-consuming.</p>
<p>If <code>mode</code> is <code>StagedDataFinalizeMethod.APPEND</code> the index of the first row of the sorted block must be equal to or greater
than the index of the last row in the existing data.</p>
<p>If <code>Static Schema</code> is used all staged block must have matching schema (same column names, same dtype, same column ordering)
and must match the existing data if mode is <code>StagedDataFinalizeMethod.APPEND</code>. For more information about schema options see
documentation for <code>arcticdb.LibraryOptions.dynamic_schema</code></p>
<p>If the symbol does not exist both <code>StagedDataFinalizeMethod.APPEND</code> and <code>StagedDataFinalizeMethod.WRITE</code> will create it.</p>
<p>Calling <code>sort_and_finalize_staged_data</code> without having staged data for the symbol will throw <code>UserInputException</code>. Use
<code>get_staged_symbols</code> to check if there are staged segments for the symbol.</p>
<p>Calling <code>sort_and_finalize_staged_data</code> if any of the staged segments contains NaT in its index will throw <code>SortingException</code>.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>symbol</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Symbol to finalize data for.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="str">str</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>mode</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Finalize mode. Valid options are WRITE or APPEND. Write collects the staged data and writes them to a
new timeseries. Append collects the staged data and appends them to the latest version.</p>
<p>Also accepts strings "write" or "append" (case-insensitive).</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Union">Union</span>[<span title="str">str</span>, <a class="autorefs autorefs-internal" title="arcticdb.version_store.library.StagedDataFinalizeMethod" href="../library_types/#arcticdb.version_store.library.StagedDataFinalizeMethod">StagedDataFinalizeMethod</a>]</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>StagedDataFinalizeMethod.WRITE</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>prune_previous_versions</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Removes previous (non-snapshotted) versions from the database.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="bool">bool</span></code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>False</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>metadata</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Optional metadata to persist along with the symbol.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Any">Any</span></code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>None</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>delete_staged_data_on_failure</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Determines the handling of staged data when an exception occurs during the execution of the
<code>sort_and_finalize_staged_data</code> function.</p>
<ul>
<li>If set to True, all staged data for the specified symbol will be deleted if an exception occurs.</li>
<li>If set to False, the staged data will be retained and will be used in subsequent calls to
  <code>sort_and_finalize_staged_data</code>.</li>
</ul>
<p>To manually delete staged data, use the <code>delete_staged_data</code> function.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="bool">bool</span></code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>False</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>stage_results</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>If specified, only the data corresponding to the provided <code>StageResult</code>s will be finalized. See <code>stage</code>.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Optional">Optional</span>[<span title="typing.List">List</span>[<span title="arcticdb_ext.version_store.StageResult">StageResult</span>]]</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>None</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code><a class="autorefs autorefs-internal" title="arcticdb.VersionedItem (arcticdb.version_store._store.VersionedItem)" href="../library_types/#arcticdb.VersionedItem">VersionedItem</a></code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>Structure containing metadata and version number of the written symbol in the store.
The data member will be None.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RAISES</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
              <span class="doc-raises-annotation">
                  <code><span title="SortingException">SortingException</span></code>
              </span>
            </td>
            <td class="doc-raises-details">
              <div class="doc-md-description">
                <ul>
<li>If the first index value of the sorted block is not greater or equal than the last index value of
    the existing data when <code>StagedDataFinalizeMethod.APPEND</code> is used.</li>
<li>If any staged segment contains NaT in the index</li>
</ul>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
              <span class="doc-raises-annotation">
                  <code><span title="UserInputException">UserInputException</span></code>
              </span>
            </td>
            <td class="doc-raises-details">
              <div class="doc-md-description">
                <ul>
<li>If there are no staged segments when <code>sort_and_finalize_staged_data</code> is called</li>
<li>
<p>If all of the following conditions are met:</p>
<ol>
<li>Static schema is used.</li>
<li>The width of the DataFrame exceeds the value of <code>LibraryOptions.columns_per_segment</code>.</li>
<li>The symbol contains data that was not written by <code>sort_and_finalize_staged_data</code>.</li>
<li>Finalize mode is append</li>
</ol>
</li>
</ul>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
              <span class="doc-raises-annotation">
                  <code><span title="SchemaException">SchemaException</span></code>
              </span>
            </td>
            <td class="doc-raises-details">
              <div class="doc-md-description">
                <ul>
<li>If static schema is used and not all staged segments have matching schema.</li>
<li>If static schema is used, mode is <code>StagedDataFinalizeMethod.APPEND</code> and the schema of the sorted and merged
    staged segment is not the same as the schema of the existing data</li>
<li>If dynamic schema is used and different segments have the same column names but their dtypes don't have a
    common type (e.g string and any numeric type)</li>
<li>If a different index name is encountered in the staged data, regardless of the schema mode</li>
</ul>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="see-also" open>
  <summary>See Also</summary>
  <p>write
    Documentation on the <code>staged</code> parameter explains the concept of staged data in more detail.</p>
</details>

<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;sym&quot;</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;col&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">]},</span> <span class="n">index</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">DatetimeIndex</span><span class="p">([</span><span class="n">pd</span><span class="o">.</span><span class="n">Timestamp</span><span class="p">(</span><span class="mi">2024</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="n">pd</span><span class="o">.</span><span class="n">Timestamp</span><span class="p">(</span><span class="mi">2024</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)])),</span> <span class="n">staged</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;sym&quot;</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;col&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">]},</span> <span class="n">index</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">DatetimeIndex</span><span class="p">([</span><span class="n">pd</span><span class="o">.</span><span class="n">Timestamp</span><span class="p">(</span><span class="mi">2024</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="n">pd</span><span class="o">.</span><span class="n">Timestamp</span><span class="p">(</span><span class="mi">2024</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)])),</span> <span class="n">staged</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="o">.</span><span class="n">sort_and_finalize_staged_data</span><span class="p">(</span><span class="s2">&quot;sym&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s2">&quot;sym&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">data</span>
<span class="go">            col</span>
<span class="go">2024-01-01    1</span>
<span class="go">2024-01-02    2</span>
<span class="go">2024-01-03    3</span>
<span class="go">2024-01-04    4</span>
</code></pre></div>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="arcticdb.version_store.library.Library.stage" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">stage</span>


<a href="#arcticdb.version_store.library.Library.stage" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">stage</span><span class="p">(</span>
    <span class="n">symbol</span><span class="p">:</span> <span class="n"><span title="str">str</span></span><span class="p">,</span>
    <span class="n">data</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="arcticdb.version_store.library.NormalizableType


  
      module-attribute
  " href="../library_types/#arcticdb.version_store.library.NormalizableType">NormalizableType</a></span><span class="p">,</span>
    <span class="n">validate_index</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">sort_on_index</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">sort_columns</span><span class="p">:</span> <span class="n"><span title="typing.List">List</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Similar to <code>write</code> but the written segments are left in an "incomplete" state, unable to be read until they
are finalized. This enables multiple writers to a single symbol - all writing staged data at the same time -
with one process able to later finalize all staged data rendering the data readable by clients.
To finalize staged data see <code>finalize_staged_data</code> or <code>sort_and_finalize_staged_data</code>.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>symbol</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Symbol name. Limited to 255 characters. The following characters are not supported in symbols:
<code>"*", "&amp;", "&lt;", "&gt;"</code></p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="str">str</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>data</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Data to be written. Staged data must be normalizable.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><a class="autorefs autorefs-internal" title="arcticdb.version_store.library.NormalizableType


  
      module-attribute
  " href="../library_types/#arcticdb.version_store.library.NormalizableType">NormalizableType</a></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>validate_index</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Check that the index is sorted prior to writing. In the case of unsorted data, throw an UnsortedDataException</p>
              </div>
              <p>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>True</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>sort_on_index</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>If an appropriate index is present, sort the data on it. In combination with sort_columns the
index will be used as the primary sort column, and the others as secondaries.</p>
              </div>
              <p>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>False</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>sort_columns</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Sort the data by specific columns prior to writing.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.List">List</span>[<span title="str">str</span>]</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>None</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code><span title="arcticdb_ext.version_store.StageResult">StageResult</span></code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>Structure describing the segments that were staged and which can later be passed to <code>finalize_staged_data</code>
or <code>sort_and_finalize_staged_data</code> to specify which data to finalize.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="arcticdb.version_store.library.Library.tail" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">tail</span>


<a href="#arcticdb.version_store.library.Library.tail" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">tail</span><span class="p">(</span>
    <span class="n">symbol</span><span class="p">:</span> <span class="n"><span title="str">str</span></span><span class="p">,</span>
    <span class="n">n</span><span class="p">:</span> <span class="n"><span title="int">int</span></span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span>
    <span class="n">as_of</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="typing.Union">Union</span></span><span class="p">[</span><span class="n"><span title="int">int</span></span><span class="p">,</span> <span class="n"><span title="str">str</span></span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">columns</span><span class="p">:</span> <span class="n"><span title="typing.List">List</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">lazy</span><span class="p">:</span> <span class="n"><span title="bool">bool</span></span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">output_format</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span>
        <span class="n"><span title="typing.Union">Union</span></span><span class="p">[</span><span class="n"><span title="arcticdb.options.OutputFormat">OutputFormat</span></span><span class="p">,</span> <span class="n"><span title="str">str</span></span><span class="p">]</span>
    <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="typing.Union">Union</span></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-internal" title="arcticdb.VersionedItem (arcticdb.version_store._store.VersionedItem)" href="../library_types/#arcticdb.VersionedItem">VersionedItem</a></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" title="arcticdb.LazyDataFrame (arcticdb.version_store.library.LazyDataFrame)" href="../processing/#arcticdb.LazyDataFrame">LazyDataFrame</a></span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Read the last n rows of data for the named symbol. If n is negative, return all rows except the first n rows.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>symbol</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Symbol name.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="str">str</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>n</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Number of rows to select if non-negative, otherwise number of rows to exclude.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="int">int</span></code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>5</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>as_of</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>See documentation on <code>read</code>.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="arcticdb.version_store.library.AsOf">AsOf</span></code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>None</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>columns</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>See documentation on <code>read</code>.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.List">List</span>[<span title="str">str</span>]</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>None</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>lazy</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>See documentation on <code>read</code>.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="bool">bool</span></code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>False</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>output_format</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>See documentation on <code>read</code>.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Optional">Optional</span>[<span title="typing.Union">Union</span>[<span title="arcticdb.options.OutputFormat">OutputFormat</span>, <span title="str">str</span>]]</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>None</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code><span title="typing.Union">Union</span>[<a class="autorefs autorefs-internal" title="arcticdb.VersionedItem (arcticdb.version_store._store.VersionedItem)" href="../library_types/#arcticdb.VersionedItem">VersionedItem</a>, <a class="autorefs autorefs-internal" title="arcticdb.LazyDataFrame (arcticdb.version_store.library.LazyDataFrame)" href="../processing/#arcticdb.LazyDataFrame">LazyDataFrame</a>]</code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>If lazy is False, VersionedItem object that contains a .data and .metadata element.
If lazy is True, a LazyDataFrame object on which further querying can be performed prior to collect.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="arcticdb.version_store.library.Library.update" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">update</span>


<a href="#arcticdb.version_store.library.Library.update" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">update</span><span class="p">(</span>
    <span class="n">symbol</span><span class="p">:</span> <span class="n"><span title="str">str</span></span><span class="p">,</span>
    <span class="n">data</span><span class="p">:</span> <span class="n"><span title="typing.Union">Union</span></span><span class="p">[</span><span class="n"><span title="pandas.DataFrame">DataFrame</span></span><span class="p">,</span> <span class="n"><span title="pandas.Series">Series</span></span><span class="p">],</span>
    <span class="n">metadata</span><span class="p">:</span> <span class="n"><span title="typing.Any">Any</span></span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">upsert</span><span class="p">:</span> <span class="n"><span title="bool">bool</span></span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">date_range</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span>
        <span class="n"><span title="typing.Tuple">Tuple</span></span><span class="p">[</span><span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="arcticdb.supported_types.Timestamp">Timestamp</span></span><span class="p">],</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="arcticdb.supported_types.Timestamp">Timestamp</span></span><span class="p">]]</span>
    <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">prune_previous_versions</span><span class="p">:</span> <span class="n"><span title="bool">bool</span></span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="arcticdb.VersionedItem (arcticdb.version_store._store.VersionedItem)" href="../library_types/#arcticdb.VersionedItem">VersionedItem</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Overwrites existing symbol data with the contents of <code>data</code>. The entire range between the first and last index
entry in <code>data</code> is replaced in its entirety with the contents of <code>data</code>, adding additional index entries if
required. <code>update</code> only operates over the outermost index level - this means secondary index rows will be
removed if not contained in <code>data</code>.</p>
<p>Both the existing symbol version and <code>data</code> must be timeseries-indexed.</p>
<p>In the case where <code>data</code> has zero rows, nothing will be done and no new version will be created. This means that
<code>update</code> cannot be used with <code>date_range</code> to just delete a subset of the data. We have <code>delete_data_in_range</code>
for exactly this purpose and to make it very clear when deletion is intended.</p>
<p>Note that <code>update</code> is not designed for multiple concurrent writers over a single symbol.</p>
<p>If using static schema then all the column names of <code>data</code>, their order, and their type must match the columns already in storage.</p>
<p>If dynamic schema is used then data will override everything in storage for the entire index of <code>data</code>. Update
will not keep columns from storage which are not in <code>data</code>.</p>
<p>The update will split the first and last segments in the storage that intersect with 'data'. Therefore, frequent
calls to update might lead to data fragmentation (see the example below).</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>symbol</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Symbol name.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="str">str</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>data</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Timeseries indexed data to use for the update.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Union">Union</span>[<span title="pandas.DataFrame">DataFrame</span>, <span title="pandas.Series">Series</span>]</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>metadata</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Metadata to persist along with the new symbol version.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Any">Any</span></code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>None</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>upsert</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>If True, will write the data even if the symbol does not exist.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="bool">bool</span></code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>False</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>date_range</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>If a range is specified, it will delete the stored value within the range and overwrite it with the data in
<code>data</code>. This allows the user to update with data that might only be a subset of the stored value. Leaving
any part of the tuple as None leaves that part of the range open ended. Only data with date_range will be
modified, even if <code>data</code> covers a wider date range.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Optional">Optional</span>[<span title="typing.Tuple">Tuple</span>[<span title="typing.Optional">Optional</span>[<span title="arcticdb.supported_types.Timestamp">Timestamp</span>], <span title="typing.Optional">Optional</span>[<span title="arcticdb.supported_types.Timestamp">Timestamp</span>]]]</code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>None</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>prune_previous_versions</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Removes previous (non-snapshotted) versions from the database.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="bool">bool</span></code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>False</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code><a class="autorefs autorefs-internal" title="arcticdb.VersionedItem (arcticdb.version_store._store.VersionedItem)" href="../library_types/#arcticdb.VersionedItem">VersionedItem</a></code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>Structure containing metadata and version number of the written symbol in the store.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
<span class="gp">... </span>   <span class="p">{</span><span class="s1">&#39;column&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]},</span>
<span class="gp">... </span>   <span class="n">index</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="s1">&#39;1/1/2018&#39;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;1/4/2018&#39;</span><span class="p">)</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">            column</span>
<span class="go">2018-01-01       1</span>
<span class="go">2018-01-02       2</span>
<span class="go">2018-01-03       3</span>
<span class="go">2018-01-04       4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;symbol&quot;</span><span class="p">,</span> <span class="n">df</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">update_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
<span class="gp">... </span>   <span class="p">{</span><span class="s1">&#39;column&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">400</span><span class="p">,</span> <span class="mi">40</span><span class="p">]},</span>
<span class="gp">... </span>   <span class="n">index</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="s1">&#39;1/1/2018&#39;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;1/3/2018&#39;</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;2D&#39;</span><span class="p">)</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">update_df</span>
<span class="go">            column</span>
<span class="go">2018-01-01     400</span>
<span class="go">2018-01-03      40</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="s2">&quot;symbol&quot;</span><span class="p">,</span> <span class="n">update_df</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Note that 2018-01-02 is gone despite not being in update_df</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s2">&quot;symbol&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">data</span>
<span class="go">            column</span>
<span class="go">2018-01-01     400</span>
<span class="go">2018-01-03      40</span>
<span class="go">2018-01-04       4</span>
</code></pre></div>
    <p>Update will split the first and the last segment intersecting with <code>data</code></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">index</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">Timestamp</span><span class="p">(</span><span class="s2">&quot;2024-01-01&quot;</span><span class="p">),</span> <span class="n">pd</span><span class="o">.</span><span class="n">Timestamp</span><span class="p">(</span><span class="s2">&quot;2024-02-01&quot;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="sa">f</span><span class="s2">&quot;col_</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">:</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">index</span><span class="p">))</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">)},</span> <span class="n">index</span><span class="o">=</span><span class="n">index</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;test&quot;</span><span class="p">,</span> <span class="n">df</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lt</span><span class="o">=</span><span class="n">lib</span><span class="o">.</span><span class="n">_dev_tools</span><span class="o">.</span><span class="n">library_tool</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">lt</span><span class="o">.</span><span class="n">read_index</span><span class="p">(</span><span class="s2">&quot;test&quot;</span><span class="p">))</span>
<span class="go">start_index                     end_index  version_id stream_id          creation_ts         content_hash  index_type  key_type  start_col  end_col  start_row  end_row</span>
<span class="go">2024-01-01  2024-02-01 00:00:00.000000001           0   b&#39;test&#39;  1738599073224386674  9652922778723941392          84         2          1        2          0       32</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">update_index</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">Timestamp</span><span class="p">(</span><span class="s2">&quot;2024-01-10&quot;</span><span class="p">),</span> <span class="n">freq</span><span class="o">=</span><span class="s2">&quot;ns&quot;</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">200000</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">update</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="sa">f</span><span class="s2">&quot;col_</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">)},</span> <span class="n">index</span><span class="o">=</span><span class="n">update_index</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="s2">&quot;test&quot;</span><span class="p">,</span> <span class="n">update</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">lt</span><span class="o">.</span><span class="n">read_index</span><span class="p">(</span><span class="s2">&quot;test&quot;</span><span class="p">))</span>
<span class="go">start_index                                    end_index  version_id stream_id          creation_ts          content_hash  index_type  key_type  start_col  end_col  start_row  end_row</span>
<span class="go">2024-01-01 00:00:00.000000 2024-01-09 00:00:00.000000001           1   b&#39;test&#39;  1738599073268200906  13838161946080117383          84         2          1        2          0        9</span>
<span class="go">2024-01-10 00:00:00.000000 2024-01-10 00:00:00.000100000           1   b&#39;test&#39;  1738599073256354553  15576483210589662891          84         2          1        2          9   100009</span>
<span class="go">2024-01-10 00:00:00.000100 2024-01-10 00:00:00.000200000           1   b&#39;test&#39;  1738599073256588040  12429442054752910013          84         2          1        2     100009   200009</span>
<span class="go">2024-01-11 00:00:00.000000 2024-02-01 00:00:00.000000001           1   b&#39;test&#39;  1738599073268493107   5975110026983744452          84         2          1        2     200009   200031</span>
</code></pre></div>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="arcticdb.version_store.library.Library.update_batch" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">update_batch</span>


<a href="#arcticdb.version_store.library.Library.update_batch" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">update_batch</span><span class="p">(</span>
    <span class="n">update_payloads</span><span class="p">:</span> <span class="n"><span title="typing.List">List</span></span><span class="p">[</span><span class="n"><span title="arcticdb.version_store.library.UpdatePayload">UpdatePayload</span></span><span class="p">],</span>
    <span class="n">upsert</span><span class="p">:</span> <span class="n"><span title="bool">bool</span></span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">prune_previous_versions</span><span class="p">:</span> <span class="n"><span title="bool">bool</span></span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="typing.List">List</span></span><span class="p">[</span><span class="n"><span title="typing.Union">Union</span></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-internal" title="arcticdb.VersionedItem (arcticdb.version_store._store.VersionedItem)" href="../library_types/#arcticdb.VersionedItem">VersionedItem</a></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" title="arcticdb.DataError (arcticdb_ext.version_store.DataError)" href="../exceptions/#arcticdb.DataError">DataError</a></span><span class="p">]]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Perform an update operation on a list of symbols in parallel. All constrains on
<a href="#arcticdb.version_store.library.Library.update_batch--arcticdb.version_store.library.Library.update">update</a> apply to this call as well.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>update_payloads</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>List <code>arcticdb.library.UpdatePayload</code>. Each element of the list describes an update operation for a
particular symbol. Providing the symbol name, data, etc. The same symbol should not appear twice in this
list.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.List">List</span>[<span title="arcticdb.version_store.library.UpdatePayload">UpdatePayload</span>]</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>prune_previous_versions</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Removes previous (non-snapshotted) versions from the library.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="bool">bool</span></code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>False</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>upsert</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>If True any symbol in <code>update_payloads</code> which is not already in the library will be created.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="bool">bool</span></code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>False</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code><span title="typing.List">List</span>[<span title="typing.Union">Union</span>[<a class="autorefs autorefs-internal" title="arcticdb.VersionedItem (arcticdb.version_store._store.VersionedItem)" href="../library_types/#arcticdb.VersionedItem">VersionedItem</a>, <a class="autorefs autorefs-internal" title="arcticdb.DataError (arcticdb_ext.version_store.DataError)" href="../exceptions/#arcticdb.DataError">DataError</a>]]</code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>List of versioned items. i-th entry corresponds to i-th element of <code>update_payloads</code>. Each result correspond
to a structure containing metadata and version number of the affected symbol in the store. If a key error or
any other internal exception is raised, a DataError object is returned, with symbol, error_code,
error_category, and exception_string properties.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RAISES</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
              <span class="doc-raises-annotation">
                  <code><a class="autorefs autorefs-internal" title="arcticdb.version_store.library.ArcticDuplicateSymbolsInBatchException" href="../exceptions/#arcticdb.version_store.library.ArcticDuplicateSymbolsInBatchException">ArcticDuplicateSymbolsInBatchException</a></code>
              </span>
            </td>
            <td class="doc-raises-details">
              <div class="doc-md-description">
                <p>When duplicate symbols appear in payload.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
              <span class="doc-raises-annotation">
                  <code><a class="autorefs autorefs-internal" title="arcticdb.version_store.library.ArcticUnsupportedDataTypeException" href="../exceptions/#arcticdb.version_store.library.ArcticUnsupportedDataTypeException">ArcticUnsupportedDataTypeException</a></code>
              </span>
            </td>
            <td class="doc-raises-details">
              <div class="doc-md-description">
                <p>If data that is not of NormalizableType appears in any of the payloads.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">df1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;column_1&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]},</span> <span class="n">index</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="s2">&quot;2025-01-01&quot;</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">3</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df1</span>
<span class="go">            column_1</span>
<span class="go">2025-01-01         1</span>
<span class="go">2025-01-02         2</span>
<span class="go">2025-01-03         3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;column_2&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">]},</span> <span class="n">index</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="s2">&quot;2024-01-01&quot;</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">2</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df2</span>
<span class="go">            column_2</span>
<span class="go">2024-01-01        10</span>
<span class="go">2024-01-02        11</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;symbol_1&quot;</span><span class="p">,</span> <span class="n">df1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;symbol_2&quot;</span><span class="p">,</span> <span class="n">df1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="o">.</span><span class="n">update_batch</span><span class="p">([</span><span class="n">arcticdb</span><span class="o">.</span><span class="n">library</span><span class="o">.</span><span class="n">UpdatePayload</span><span class="p">(</span><span class="s2">&quot;symbol_1&quot;</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;column_1&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]},</span> <span class="n">index</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="s2">&quot;2025-01-03&quot;</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">2</span><span class="p">))),</span> <span class="n">arcticdb</span><span class="o">.</span><span class="n">library</span><span class="o">.</span><span class="n">UpdatePayload</span><span class="p">(</span><span class="s2">&quot;symbol_2&quot;</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;column_2&quot;</span><span class="p">:</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]},</span> <span class="n">index</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="s2">&quot;2023-01-01&quot;</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">1</span><span class="p">)))])</span>
<span class="go">[VersionedItem(symbol=&#39;symbol_1&#39;, library=&#39;test&#39;, data=n/a, version=1, metadata=(None,), host=&#39;LMDB(path=...)&#39;, timestamp=1737542783853861819), VersionedItem(symbol=&#39;symbol_2&#39;, library=&#39;test&#39;, data=n/a, version=1, metadata=(None,), host=&#39;LMDB(path=...)&#39;, timestamp=1737542783851798754)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s2">&quot;symbol_1&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">data</span>
<span class="go">            column_1</span>
<span class="go">2025-01-01         1</span>
<span class="go">2025-01-02         2</span>
<span class="go">2025-01-03         4</span>
<span class="go">2025-01-04         5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s2">&quot;symbol_2&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">data</span>
<span class="go">            column_2</span>
<span class="go">2023-01-01        -1</span>
<span class="go">2024-01-01        10</span>
<span class="go">2024-01-02        11</span>
</code></pre></div>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="arcticdb.version_store.library.Library.write" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">write</span>


<a href="#arcticdb.version_store.library.Library.write" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">write</span><span class="p">(</span>
    <span class="n">symbol</span><span class="p">:</span> <span class="n"><span title="str">str</span></span><span class="p">,</span>
    <span class="n">data</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="arcticdb.version_store.library.NormalizableType


  
      module-attribute
  " href="../library_types/#arcticdb.version_store.library.NormalizableType">NormalizableType</a></span><span class="p">,</span>
    <span class="n">metadata</span><span class="p">:</span> <span class="n"><span title="typing.Any">Any</span></span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">prune_previous_versions</span><span class="p">:</span> <span class="n"><span title="bool">bool</span></span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">staged</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">validate_index</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="arcticdb.VersionedItem (arcticdb.version_store._store.VersionedItem)" href="../library_types/#arcticdb.VersionedItem">VersionedItem</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Write <code>data</code> to the specified <code>symbol</code>. If <code>symbol</code> already exists then a new version will be created to
reference the newly written data. For more information on versions see the documentation for the <code>read</code>
primitive.</p>
<p><code>data</code> must be of a format that can be normalised into Arctic's internal storage structure. Pandas
DataFrames, Pandas Series and Numpy NDArrays can all be normalised. Normalised data will be split along both the
columns and rows into segments. By default, a segment will contain 100,000 rows and 127 columns.</p>
<p>If this library has <code>write_deduplication</code> enabled then segments will be deduplicated against storage prior to
write to reduce required IO operations and storage requirements. Data will be effectively deduplicated for all
segments up until the first differing row when compared to storage. As a result, modifying the beginning
of <code>data</code> with respect to previously written versions may significantly reduce the effectiveness of
deduplication.</p>
<p>Note that <code>write</code> is not designed for multiple concurrent writers over a single symbol.
For that case see <code>stage()</code>.</p>
<p>Note: ArcticDB will use the 0-th level index of the Pandas DataFrame for its on-disk index.</p>
<p>Any non-<code>DatetimeIndex</code> will converted into an internal <code>RowCount</code> index. That is, ArcticDB will assign each
row a monotonically increasing integer identifier and that will be used for the index.</p>
<p>See the Metadata section of our online documentation for details about how metadata is persisted and caveats.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>symbol</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Symbol name. Limited to 255 characters. The following characters are not supported in symbols:
<code>"*", "&amp;", "&lt;", "&gt;"</code></p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="str">str</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>data</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Data to be written. To write non-normalizable data, use <code>write_pickle</code>.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><a class="autorefs autorefs-internal" title="arcticdb.version_store.library.NormalizableType


  
      module-attribute
  " href="../library_types/#arcticdb.version_store.library.NormalizableType">NormalizableType</a></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>metadata</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Optional metadata to persist along with the symbol.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Any">Any</span></code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>None</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>prune_previous_versions</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Removes previous (non-snapshotted) versions from the database.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="bool">bool</span></code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>False</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>staged</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Deprecated. Use stage() instead.
Whether to write to a staging area rather than immediately to the library.
See documentation on <code>finalize_staged_data</code> for more information.</p>
              </div>
              <p>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>False</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>validate_index</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>If True, verify that the index of <code>data</code> supports date range searches and update operations.
This tests that the data is sorted in ascending order, using Pandas DataFrame.index.is_monotonic_increasing.</p>
              </div>
              <p>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>True</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code><a class="autorefs autorefs-internal" title="arcticdb.VersionedItem (arcticdb.version_store._store.VersionedItem)" href="../library_types/#arcticdb.VersionedItem">VersionedItem</a></code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>Structure containing metadata and version number of the written symbol in the store.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RAISES</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
              <span class="doc-raises-annotation">
                  <code><a class="autorefs autorefs-internal" title="arcticdb.version_store.library.ArcticUnsupportedDataTypeException" href="../exceptions/#arcticdb.version_store.library.ArcticUnsupportedDataTypeException">ArcticUnsupportedDataTypeException</a></code>
              </span>
            </td>
            <td class="doc-raises-details">
              <div class="doc-md-description">
                <p>If <code>data</code> is not of NormalizableType.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
              <span class="doc-raises-annotation">
                  <code><span title="UnsortedDataException">UnsortedDataException</span></code>
              </span>
            </td>
            <td class="doc-raises-details">
              <div class="doc-md-description">
                <p>If data is unsorted and validate_index is set to True.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;column&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;symbol&quot;</span><span class="p">,</span> <span class="n">df</span><span class="p">,</span> <span class="n">metadata</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;my_dictionary&#39;</span><span class="p">:</span> <span class="s1">&#39;is_great&#39;</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s2">&quot;symbol&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">data</span>
<span class="go">   column</span>
<span class="go">0       5</span>
<span class="go">1       6</span>
<span class="go">2       7</span>
</code></pre></div>
    <p>WritePayload objects can be unpacked and used as parameters:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">w</span> <span class="o">=</span> <span class="n">adb</span><span class="o">.</span><span class="n">WritePayload</span><span class="p">(</span><span class="s2">&quot;symbol&quot;</span><span class="p">,</span> <span class="n">df</span><span class="p">,</span> <span class="n">metadata</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;the&#39;</span><span class="p">:</span> <span class="s1">&#39;metadata&#39;</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="o">*</span><span class="n">w</span><span class="p">,</span> <span class="n">staged</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="arcticdb.version_store.library.Library.write_batch" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">write_batch</span>


<a href="#arcticdb.version_store.library.Library.write_batch" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">write_batch</span><span class="p">(</span>
    <span class="n">payloads</span><span class="p">:</span> <span class="n"><span title="typing.List">List</span></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-internal" title="arcticdb.WritePayload (arcticdb.version_store.library.WritePayload)" href="../library_types/#arcticdb.WritePayload">WritePayload</a></span><span class="p">],</span>
    <span class="n">prune_previous_versions</span><span class="p">:</span> <span class="n"><span title="bool">bool</span></span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">validate_index</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="typing.List">List</span></span><span class="p">[</span><span class="n"><span title="typing.Union">Union</span></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-internal" title="arcticdb.VersionedItem (arcticdb.version_store._store.VersionedItem)" href="../library_types/#arcticdb.VersionedItem">VersionedItem</a></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" title="arcticdb.DataError (arcticdb_ext.version_store.DataError)" href="../exceptions/#arcticdb.DataError">DataError</a></span><span class="p">]]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Write a batch of multiple symbols.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>payloads</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Symbols and their corresponding data. There must not be any duplicate symbols in <code>payload</code>.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code>`List[WritePayload]`</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>prune_previous_versions</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Removes previous (non-snapshotted) versions from the database.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="bool">bool</span></code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>False</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>validate_index</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Verify that each entry in the batch has an index that supports date range searches and update operations.
This tests that the data is sorted in ascending order, using Pandas DataFrame.index.is_monotonic_increasing.</p>
              </div>
              <p>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>True</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code><span title="typing.List">List</span>[<span title="typing.Union">Union</span>[<a class="autorefs autorefs-internal" title="arcticdb.VersionedItem (arcticdb.version_store._store.VersionedItem)" href="../library_types/#arcticdb.VersionedItem">VersionedItem</a>, <a class="autorefs autorefs-internal" title="arcticdb.DataError (arcticdb_ext.version_store.DataError)" href="../exceptions/#arcticdb.DataError">DataError</a>]]</code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>List of versioned items. The data attribute will be None for each versioned item.
i-th entry corresponds to i-th element of <code>payloads</code>. Each result correspond to
a structure containing metadata and version number of the written symbols in the store, in the
same order as <code>payload</code>.
If a key error or any other internal exception is raised, a DataError object is returned, with symbol,
error_code, error_category, and exception_string properties.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RAISES</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
              <span class="doc-raises-annotation">
                  <code><a class="autorefs autorefs-internal" title="arcticdb.version_store.library.ArcticDuplicateSymbolsInBatchException" href="../exceptions/#arcticdb.version_store.library.ArcticDuplicateSymbolsInBatchException">ArcticDuplicateSymbolsInBatchException</a></code>
              </span>
            </td>
            <td class="doc-raises-details">
              <div class="doc-md-description">
                <p>When duplicate symbols appear in payload.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
              <span class="doc-raises-annotation">
                  <code><a class="autorefs autorefs-internal" title="arcticdb.version_store.library.ArcticUnsupportedDataTypeException" href="../exceptions/#arcticdb.version_store.library.ArcticUnsupportedDataTypeException">ArcticUnsupportedDataTypeException</a></code>
              </span>
            </td>
            <td class="doc-raises-details">
              <div class="doc-md-description">
                <p>If data that is not of NormalizableType appears in any of the payloads.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="see-also" open>
  <summary>See Also</summary>
  <p>write: For more detailed documentation.</p>
</details>

<p><span class="doc-section-title">Examples:</span></p>
    <p>Writing a simple batch:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">df_1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;column&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df_2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;column&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">payload_1</span> <span class="o">=</span> <span class="n">adb</span><span class="o">.</span><span class="n">WritePayload</span><span class="p">(</span><span class="s2">&quot;symbol_1&quot;</span><span class="p">,</span> <span class="n">df_1</span><span class="p">,</span> <span class="n">metadata</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;the&#39;</span><span class="p">:</span> <span class="s1">&#39;metadata&#39;</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">payload_2</span> <span class="o">=</span> <span class="n">adb</span><span class="o">.</span><span class="n">WritePayload</span><span class="p">(</span><span class="s2">&quot;symbol_2&quot;</span><span class="p">,</span> <span class="n">df_2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">items</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">write_batch</span><span class="p">([</span><span class="n">payload_1</span><span class="p">,</span> <span class="n">payload_2</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s2">&quot;symbol_1&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">data</span>
<span class="go">   column</span>
<span class="go">0       1</span>
<span class="go">1       2</span>
<span class="go">2       3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s2">&quot;symbol_2&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">data</span>
<span class="go">   column</span>
<span class="go">0       4</span>
<span class="go">1       5</span>
<span class="go">2       6</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">items</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">symbol</span><span class="p">,</span> <span class="n">items</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">symbol</span>
<span class="go">(&#39;symbol_1&#39;, &#39;symbol_2&#39;)</span>
</code></pre></div>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="arcticdb.version_store.library.Library.write_metadata" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">write_metadata</span>


<a href="#arcticdb.version_store.library.Library.write_metadata" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">write_metadata</span><span class="p">(</span>
    <span class="n">symbol</span><span class="p">:</span> <span class="n"><span title="str">str</span></span><span class="p">,</span>
    <span class="n">metadata</span><span class="p">:</span> <span class="n"><span title="typing.Any">Any</span></span><span class="p">,</span>
    <span class="n">prune_previous_versions</span><span class="p">:</span> <span class="n"><span title="bool">bool</span></span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="arcticdb.VersionedItem (arcticdb.version_store._store.VersionedItem)" href="../library_types/#arcticdb.VersionedItem">VersionedItem</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Write metadata under the specified symbol name to this library. The data will remain unchanged.
A new version will be created.</p>
<p>If the symbol is missing, it causes a write with empty data (None, pickled, can't append) and the supplied
metadata.</p>
<p>This method should be faster than <code>write</code> as it involves no data segment read/write operations.</p>
<p>See the Metadata section of our online documentation for details about how metadata is persisted and caveats.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>symbol</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Symbol name for the item</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="str">str</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>metadata</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Metadata to persist along with the symbol</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Any">Any</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>prune_previous_versions</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Removes previous (non-snapshotted) versions from the database. Note that metadata is versioned alongside the
data it is referring to, and so this operation removes old versions of data as well as metadata.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="bool">bool</span></code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>False</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code><a class="autorefs autorefs-internal" title="arcticdb.VersionedItem (arcticdb.version_store._store.VersionedItem)" href="../library_types/#arcticdb.VersionedItem">VersionedItem</a></code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>Structure containing metadata and version number of the affected symbol in the store.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="arcticdb.version_store.library.Library.write_metadata_batch" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">write_metadata_batch</span>


<a href="#arcticdb.version_store.library.Library.write_metadata_batch" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">write_metadata_batch</span><span class="p">(</span>
    <span class="n">write_metadata_payloads</span><span class="p">:</span> <span class="n"><span title="typing.List">List</span></span><span class="p">[</span><span class="n"><span title="arcticdb.version_store.library.WriteMetadataPayload">WriteMetadataPayload</span></span><span class="p">],</span>
    <span class="n">prune_previous_versions</span><span class="p">:</span> <span class="n"><span title="bool">bool</span></span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="typing.List">List</span></span><span class="p">[</span><span class="n"><span title="typing.Union">Union</span></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-internal" title="arcticdb.VersionedItem (arcticdb.version_store._store.VersionedItem)" href="../library_types/#arcticdb.VersionedItem">VersionedItem</a></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" title="arcticdb.DataError (arcticdb_ext.version_store.DataError)" href="../exceptions/#arcticdb.DataError">DataError</a></span><span class="p">]]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Write metadata to multiple symbols in a batch fashion. This is more efficient than making multiple <code>write_metadata</code> calls
in succession as some constant-time operations can be executed only once rather than once for each element of
<code>write_metadata_payloads</code>.
Note that this isn't an atomic operation - it's possible for the metadata for one symbol to be fully written and
readable before another symbol.</p>
<p>See the Metadata section of our online documentation for details about how metadata is persisted and caveats.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>write_metadata_payloads</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Symbols and their corresponding metadata. There must not be any duplicate symbols in <code>payload</code>.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code>`List[WriteMetadataPayload]`</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>prune_previous_versions</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Removes previous (non-snapshotted) versions from the database. Note that metadata is versioned alongside the
data it is referring to, and so this operation removes old versions of data as well as metadata.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="bool">bool</span></code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>False</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code><span title="typing.List">List</span>[<span title="typing.Union">Union</span>[<a class="autorefs autorefs-internal" title="arcticdb.VersionedItem (arcticdb.version_store._store.VersionedItem)" href="../library_types/#arcticdb.VersionedItem">VersionedItem</a>, <a class="autorefs autorefs-internal" title="arcticdb.DataError (arcticdb_ext.version_store.DataError)" href="../exceptions/#arcticdb.DataError">DataError</a>]]</code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>List of versioned items. The data attribute will be None for each versioned item.
i-th entry corresponds to i-th element of <code>write_metadata_payloads</code>. Each result correspond to
a structure containing metadata and version number of the affected symbol in the store.
If any internal exception is raised, a DataError object is returned, with symbol,
error_code, error_category, and exception_string properties.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RAISES</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
              <span class="doc-raises-annotation">
                  <code><a class="autorefs autorefs-internal" title="arcticdb.version_store.library.ArcticDuplicateSymbolsInBatchException" href="../exceptions/#arcticdb.version_store.library.ArcticDuplicateSymbolsInBatchException">ArcticDuplicateSymbolsInBatchException</a></code>
              </span>
            </td>
            <td class="doc-raises-details">
              <div class="doc-md-description">
                <p>When duplicate symbols appear in write_metadata_payloads.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <p>Writing a simple batch:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">payload_1</span> <span class="o">=</span> <span class="n">adb</span><span class="o">.</span><span class="n">WriteMetadataPayload</span><span class="p">(</span><span class="s2">&quot;symbol_1&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;the&#39;</span><span class="p">:</span> <span class="s1">&#39;metadata_1&#39;</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">payload_2</span> <span class="o">=</span> <span class="n">adb</span><span class="o">.</span><span class="n">WriteMetadataPayload</span><span class="p">(</span><span class="s2">&quot;symbol_2&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;the&#39;</span><span class="p">:</span> <span class="s1">&#39;metadata_2&#39;</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">items</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">write_metadata_batch</span><span class="p">([</span><span class="n">payload_1</span><span class="p">,</span> <span class="n">payload_2</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="o">.</span><span class="n">read_metadata</span><span class="p">(</span><span class="s2">&quot;symbol_1&quot;</span><span class="p">)</span>
<span class="go">{&#39;the&#39;: &#39;metadata_1&#39;}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="o">.</span><span class="n">read_metadata</span><span class="p">(</span><span class="s2">&quot;symbol_2&quot;</span><span class="p">)</span>
<span class="go">{&#39;the&#39;: &#39;metadata_2&#39;}</span>
</code></pre></div>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="arcticdb.version_store.library.Library.write_pickle" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">write_pickle</span>


<a href="#arcticdb.version_store.library.Library.write_pickle" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">write_pickle</span><span class="p">(</span>
    <span class="n">symbol</span><span class="p">:</span> <span class="n"><span title="str">str</span></span><span class="p">,</span>
    <span class="n">data</span><span class="p">:</span> <span class="n"><span title="typing.Any">Any</span></span><span class="p">,</span>
    <span class="n">metadata</span><span class="p">:</span> <span class="n"><span title="typing.Any">Any</span></span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">prune_previous_versions</span><span class="p">:</span> <span class="n"><span title="bool">bool</span></span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">staged</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="arcticdb.VersionedItem (arcticdb.version_store._store.VersionedItem)" href="../library_types/#arcticdb.VersionedItem">VersionedItem</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>See <code>write</code>. This method differs from <code>write</code> only in that <code>data</code> can be of any type that is serialisable via
the Pickle library. There are significant downsides to storing data in this way:</p>
<ul>
<li>Retrieval can only be done in bulk. Calls to <code>read</code> will not support <code>date_range</code>, <code>query_builder</code> or <code>columns</code>.</li>
<li>The data cannot be updated or appended to via the update and append methods.</li>
<li>Writes cannot be deduplicated in any way.</li>
</ul>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>symbol</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>See documentation on <code>write</code>.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="str">str</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>data</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Data to be written.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code>`Any`</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>metadata</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>See documentation on <code>write</code>.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Any">Any</span></code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>None</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>prune_previous_versions</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>See documentation on <code>write</code>.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="bool">bool</span></code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>False</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>staged</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>See documentation on <code>write</code>.</p>
              </div>
              <p>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>False</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code><a class="autorefs autorefs-internal" title="arcticdb.VersionedItem (arcticdb.version_store._store.VersionedItem)" href="../library_types/#arcticdb.VersionedItem">VersionedItem</a></code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>See documentation on <code>write</code>.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="o">.</span><span class="n">write_pickle</span><span class="p">(</span><span class="s2">&quot;symbol&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s2">&quot;symbol&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">data</span>
<span class="go">[1, 2, 3]</span>
</code></pre></div>


<details class="see-also" open>
  <summary>See Also</summary>
  <p>write: For more detailed documentation.</p>
</details>

    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="arcticdb.version_store.library.Library.write_pickle_batch" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">write_pickle_batch</span>


<a href="#arcticdb.version_store.library.Library.write_pickle_batch" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">write_pickle_batch</span><span class="p">(</span>
    <span class="n">payloads</span><span class="p">:</span> <span class="n"><span title="typing.List">List</span></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-internal" title="arcticdb.WritePayload (arcticdb.version_store.library.WritePayload)" href="../library_types/#arcticdb.WritePayload">WritePayload</a></span><span class="p">],</span>
    <span class="n">prune_previous_versions</span><span class="p">:</span> <span class="n"><span title="bool">bool</span></span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="typing.List">List</span></span><span class="p">[</span><span class="n"><span title="typing.Union">Union</span></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-internal" title="arcticdb.VersionedItem (arcticdb.version_store._store.VersionedItem)" href="../library_types/#arcticdb.VersionedItem">VersionedItem</a></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" title="arcticdb.DataError (arcticdb_ext.version_store.DataError)" href="../exceptions/#arcticdb.DataError">DataError</a></span><span class="p">]]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Write a batch of multiple symbols, pickling their data if necessary.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">PARAMETER</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>payloads</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Symbols and their corresponding data. There must not be any duplicate symbols in <code>payload</code>.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code>`List[WritePayload]`</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>prune_previous_versions</code>
            </td>
            <td class="doc-param-details">
              <div class="doc-md-description">
                <p>Removes previous (non-snapshotted) versions from the database.</p>
              </div>
              <p>
                  <span class="doc-param-annotation">
                    <b>TYPE:</b>
                      <code><span title="bool">bool</span></code>
                  </span>
                  <span class="doc-param-default">
                    <b>DEFAULT:</b>
                      <code>False</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RETURNS</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <span class="doc-returns-annotation">
                    <code><span title="typing.List">List</span>[<span title="typing.Union">Union</span>[<a class="autorefs autorefs-internal" title="arcticdb.VersionedItem (arcticdb.version_store._store.VersionedItem)" href="../library_types/#arcticdb.VersionedItem">VersionedItem</a>, <a class="autorefs autorefs-internal" title="arcticdb.DataError (arcticdb_ext.version_store.DataError)" href="../exceptions/#arcticdb.DataError">DataError</a>]]</code>
                </span>
            </td>
            <td class="doc-returns-details">
              <div class="doc-md-description">
                <p>Structures containing metadata and version number of the written symbols in the store, in the
same order as <code>payload</code>. If a key error or any other internal exception is raised, a DataError object is
returned, with symbol, error_code, error_category, and exception_string properties.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">RAISES</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
              <span class="doc-raises-annotation">
                  <code><a class="autorefs autorefs-internal" title="arcticdb.version_store.library.ArcticDuplicateSymbolsInBatchException" href="../exceptions/#arcticdb.version_store.library.ArcticDuplicateSymbolsInBatchException">ArcticDuplicateSymbolsInBatchException</a></code>
              </span>
            </td>
            <td class="doc-raises-details">
              <div class="doc-md-description">
                <p>When duplicate symbols appear in payload.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="see-also" open>
  <summary>See Also</summary>
  <p>write: For more detailed documentation.
write_pickle: For information on the implications of providing data that needs to be pickled.</p>
</details>

    </div>

</div>



  </div>

    </div>

</div>












                

              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.sections", "content.code.copy", "toc.integrate"], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"default": "latest", "provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
    
  </body>
</html>